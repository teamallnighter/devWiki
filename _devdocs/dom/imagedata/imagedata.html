<h1>ImageData.constructor</h1> <p>The <code><strong>ImageData()</strong></code> constructor returns a newly instantiated <a href="../imagedata"><code>ImageData</code></a> object built from the typed array given and having the specified width and height.</p> <p>This constructor is the preferred way of creating such an object in a <a href="../worker"><code>Worker</code></a>.</p> <h2 id="Syntax">Syntax</h2> <pre class="syntaxbox">new ImageData(<em>array</em>, <em>width</em> [, <em>height</em>]);
new ImageData(<em>width</em>, <em>height</em>);
</pre> <h3 id="Parameters">Parameters</h3> <dl> <dt>
<code>array</code> <span class="inlineIndicator optional optionalInline">Optional</span>
</dt> <dd>A <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8ClampedArray"><code>Uint8ClampedArray</code></a> containing the underlying pixel representation of the image. If no such array is given, an image with a black rectangle of the specified <code>width</code> and <code>height</code> will be created.</dd> <dt><code>width</code></dt> <dd>An unsigned long representing the width of the image.</dd> <dt><code>height</code></dt> <dd>An unsigned long representing the height of the image. This value is optional if an array is given: the height will be inferred from the array's size and the given width.</dd> </dl> <h3 id="Return_value">Return value</h3> <p>A new <a href="../imagedata"><code>ImageData</code></a> object.</p> <h3 id="Errors_thrown">Errors thrown</h3> <dl> <dt><code>IndexSizeError</code></dt> <dd>Thrown if <code>array</code> is specified, but its length is not a multiple of <code>(4 * width)</code> or <code>(4 * width * height)</code>.</dd> </dl> <h2 id="Examples">Examples</h2> <h3 id="Creating_a_blank_ImageData_object">Creating a blank ImageData object</h3> <p>This example creates an <code>ImageData</code> object that is 200 pixels wide and 100 pixels tall, containing a total of 20,000 pixels.</p> <pre data-language="js">let imageData = new ImageData(200, 100);
// ImageData { width: 200, height: 100, data: Uint8ClampedArray[80000] }
</pre> <h3 id="Initializing_ImageData_with_an_array">Initializing ImageData with an array</h3> <p>This example instantiates an <code>ImageData</code> object with pixel colors defined by an array.</p> <h4 id="HTML">HTML</h4> <pre data-language="html">&lt;canvas id="canvas"&gt;&lt;/canvas&gt;</pre> <h4 id="JavaScript">JavaScript</h4> <p>The array (<code>arr</code>) has a length of <code>40000</code>: it consists of 10,000 pixels, each of which is defined by 4 values. The <code>ImageData</code> constructor specifies a <code>width</code> of <code>200</code> for the new object, so its <code>height</code> defaults to 10,000 divided by 200, which is <code>50</code>.</p> <pre data-language="js">const canvas = document.getElementById('canvas');
const ctx = canvas.getContext('2d');
const arr = new Uint8ClampedArray(40000);

// Iterate through every pixel
for (let i = 0; i &lt; arr.length; i += 4) {
  arr[i + 0] = 0;    // R value
  arr[i + 1] = 190;  // G value
  arr[i + 2] = 0;    // B value
  arr[i + 3] = 255;  // A value
}

// Initialize a new ImageData object
let imageData = new ImageData(arr, 200);

// Draw image data to the canvas
ctx.putImageData(imageData, 20, 20);</pre> <h4 id="Result">Result</h4> <p><iframe src="https://mdn.mozillademos.org/en-US/docs/Web/API/ImageData/ImageData%24samples/Initializing_ImageData_with_an_array?revision=1436944" height="180" id="frame_Initializing_ImageData_with_an_array" width="700" frameborder="0" class="live-sample-frame sample-code-frame"></iframe></p> <h2 id="Specification">Specification</h2> <div class="_table"><table class="standard-table"> <tbody> <tr> <th scope="col">Specification</th> <th scope="col">Status</th> <th scope="col">Comment</th> </tr> <tr> <td><a href="https://html.spec.whatwg.org/multipage/scripting.html#dom-imagedata" hreflang="en">HTML Living Standard<br><small>The definition of 'ImageData()' in that specification.</small></a></td> <td><span class="spec-Living">Living Standard</span></td> <td>Initial definition.</td> </tr> </tbody> </table></div> <h2 id="Browser_compatibility">Browser compatibility<a href="https://github.com/mdn/browser-compat-data" class="bc-github-link">Update compatibility data on GitHub</a>
</h2>  <div class="_table">
<table class="bc-table bc-table-web">
<thead>
<tr class="bc-platforms">
<th></th>
<th colspan="6">Desktop</th>
</tr>
<tr class="bc-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Internet Explorer</th>
<th>Opera</th>
<th>Safari</th>
</tr>
</thead>
<tbody><tr>
<th scope="row">Basic support 
</th>
<td class="bc-supports-yes"> 42</td>
<td class="bc-supports-yes"> Yes</td>
<td class="bc-supports-yes"> 29</td>
<td class="bc-supports-no"> No</td>
<td class="bc-supports-yes"> 29</td>
<td> ? </td>
</tr></tbody>
</table>
<table class="bc-table bc-table-web">
<thead>
<tr class="bc-platforms">
<th></th>
<th colspan="7">Mobile</th>
</tr>
<tr class="bc-browsers">
<th></th>
<th>Android webview</th>
<th>Chrome for Android</th>
<th>Edge Mobile</th>
<th>Firefox for Android</th>
<th>Opera for Android</th>
<th>iOS Safari</th>
<th>Samsung Internet</th>
</tr>
</thead>
<tbody><tr>
<th scope="row">Basic support 
</th>
<td class="bc-supports-no"> No</td>
<td class="bc-supports-yes"> 42</td>
<td> ? </td>
<td class="bc-supports-yes"> 29</td>
<td> ? </td>
<td> ? </td>
<td class="bc-supports-yes"> 4.0</td>
</tr></tbody>
</table>
</div> <h2 id="See_also">See also</h2> <ul> <li>
<a href="../canvasrenderingcontext2d/createimagedata"><code>CanvasRenderingContext2D.createImageData()</code></a>, the creator method that can be used outside workers.</li> </ul><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/ImageData/ImageData$edit" class="_attribution-link">Edit this page on MDN</a>
  </p>
</div>
<div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2018 Mozilla Developer Network and individual contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/ImageData/ImageData" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/ImageData/ImageData</a>
  </p>
</div>
