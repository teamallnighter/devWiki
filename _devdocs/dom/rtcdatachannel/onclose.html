<h1>RTCDataChannel.onclose</h1><div class="notice overheadIndicator experimental"> <p> <strong>This is an <a href="https://developer.mozilla.org/en-US/docs/MDN/Contribute/Guidelines/Conventions_definitions#Experimental">experimental technology</a></strong><br>Check the <a href="#Browser_compatibility">Browser compatibility table</a> carefully before using this in production.</p> </div> <p>The <code><strong>RTCDataChannel.onclose</strong></code> property is an <a href="https://developer.mozilla.org/en-US/docs/Web/API/EventHandler"><code>EventHandler</code></a> which specifies a function to be called by the browser when the <code><a href="https://developer.mozilla.org/en-US/docs/Web/Events/close">close</a></code> event is received by the <a href="../rtcdatachannel"><code>RTCDataChannel</code></a>. This is a simple <a href="../event"><code>Event</code></a> which indicates that the data channel has closed down.</p> <h2 id="Syntax">Syntax</h2> <pre class="syntaxbox"><em>RTCDataChannel</em>.onclose = <em>function</em>;</pre> <h3 id="Value">Value</h3> <p>A function which the browser will call to handle the <code><a href="https://developer.mozilla.org/en-US/docs/Web/Events/close">close</a></code> event. The function receives as its sole input parameter the event itself, as an object of type <a href="../event"><code>Event</code></a>.</p> <h2 id="Example">Example</h2> <p>In this sample from a hypothetical instant messaging client, a data channel is created, then handlers for the <code><a href="https://developer.mozilla.org/en-US/docs/Web/Events/open">open</a></code> and <code><a href="https://developer.mozilla.org/en-US/docs/Web/Events/close">close</a></code> events are set up to enable and disable user interface objects based on the state of the channel. This way, the message entry field and the send button are only enabled for use when the connection is actually open.</p> <pre data-language="js">let pc = new RTCPeerConnection();
let dc = pc.createDataChannel("MessageChannel")}};

dc.onopen = function(event) {
  document.getElementById("messageBox").disabled = false;
  document.getElementById("sendButton").disabled = false;
};

dc.onclose = function(event) {
  document.getElementById("messageBox").disabled = true;
  document.getElementById("sendButton").disabled = true;
}

/* Now negotiate the connection, etc... */</pre> <h2 name="Specifications" id="Specifications">Specifications</h2> <div class="_table"><table class="standard-table"> <thead> <tr> <th scope="col">Specification</th> <th scope="col">Status</th> <th scope="col">Comment</th> </tr> </thead> <tbody> <tr> <td><a href="https://w3c.github.io/webrtc-pc/#dom-rtcdatachannel-onclose" hreflang="en">WebRTC 1.0: Real-time Communication Between Browsers<br><small>The definition of 'RTCDataChannel.onclose' in that specification.</small></a></td> <td><span class="spec-CR">Candidate Recommendation</span></td> <td>Initial specification.</td> </tr> </tbody> </table></div> <h2 id="Browser_compatibility">Browser compatibility<a href="https://github.com/mdn/browser-compat-data" class="bc-github-link">Update compatibility data on GitHub</a>
</h2>  <div class="_table">
<table class="bc-table bc-table-web">
<thead>
<tr class="bc-platforms">
<th></th>
<th colspan="6">Desktop</th>
</tr>
<tr class="bc-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Internet Explorer</th>
<th>Opera</th>
<th>Safari</th>
</tr>
</thead>
<tbody><tr>
<th scope="row">Basic support 
</th>
<td class="bc-supports-yes"> 56</td>
<td> ? </td>
<td class="bc-supports-no"> No</td>
<td class="bc-supports-no"> No</td>
<td class="bc-supports-yes"> 43</td>
<td class="bc-supports-no"> No</td>
</tr></tbody>
</table>
<table class="bc-table bc-table-web">
<thead>
<tr class="bc-platforms">
<th></th>
<th colspan="7">Mobile</th>
</tr>
<tr class="bc-browsers">
<th></th>
<th>Android webview</th>
<th>Chrome for Android</th>
<th>Edge Mobile</th>
<th>Firefox for Android</th>
<th>Opera for Android</th>
<th>iOS Safari</th>
<th>Samsung Internet</th>
</tr>
</thead>
<tbody><tr>
<th scope="row">Basic support 
</th>
<td class="bc-supports-yes"> 56</td>
<td class="bc-supports-yes"> 56</td>
<td> ? </td>
<td class="bc-supports-no"> No</td>
<td class="bc-supports-yes"> 43</td>
<td> ? </td>
<td class="bc-supports-yes"> 6.0</td>
</tr></tbody>
</table>
</div> <h2 id="See_also">See also</h2> <ul> <li><a href="https://developer.mozilla.org/en-US/docs/Web/Guide/API/WebRTC">WebRTC</a></li> <li>The <code><a href="https://developer.mozilla.org/en-US/docs/Web/Events/close">close</a></code> event and its type, <a href="../event"><code>Event</code></a>.</li> <li><a href="onopen"><code>RTCDataChannel.onopen</code></a></li> <li>The <code><a href="https://developer.mozilla.org/en-US/docs/Web/Events/open">open</a></code> event and its type, <a href="../event"><code>Event</code></a>.</li> </ul><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/RTCDataChannel/onclose$edit" class="_attribution-link">Edit this page on MDN</a>
  </p>
</div>
<div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2018 Mozilla Developer Network and individual contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/RTCDataChannel/onclose" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/RTCDataChannel/onclose</a>
  </p>
</div>
