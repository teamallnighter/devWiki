<h1>ServiceWorkerMessageEvent.constructor</h1><div class="blockIndicator deprecated deprecatedHeader"> <p><strong> Deprecated</strong><br>This feature is no longer recommended. Though some browsers might still support it, it may have already been removed from the relevant web standards, may be in the process of being dropped, or may only be kept for compatibility purposes. Avoid using it, and update existing code if possible; see the <a href="#Browser_compatibility">compatibility table</a> at the bottom of this page to guide your decision. Be aware that this feature may cease to work at any time.</p> </div> <div class="warning"> <p><strong>Important</strong>: In modern browsers, this property has been deprecated. Service worker messages will now use the <a href="../messageevent"><code>MessageEvent</code></a> interface, for consistency with other web messaging features.</p> </div> <p>The <code>ServiceWorkerMessageEvent()</code> constructor creates a new <a href="../serviceworkermessageevent"><code>ServiceWorkerMessageEvent</code></a> object instance.</p> <h2 id="Syntax">Syntax</h2> <pre class="syntaxbox">var mySWME = new ServiceWorkerMessageEvent(type, init);</pre> <h3 id="Parameters">Parameters</h3> <dl> <dt>type</dt> <dd>A <a href="../domstring"><code>DOMString</code></a> that defines the type of the message event being created.</dd> <dt>init <span class="inlineIndicator optional optionalInline">Optional</span>
</dt> <dd>An initialisation object, which should contain the following parameters: <ul> <li>
<code>data</code>: The event's data — this can be any type.</li> <li>
<code>origin</code>: A <a href="../domstring"><code>DOMString</code></a> that defines the origin of the corresponding service worker's environment settings object.</li> <li>
<code>lastEventId</code>: A <a href="../domstring"><code>DOMString</code></a> that defines the last event ID of the event source.</li> <li>
<code>source</code>: The <a href="../serviceworker"><code>ServiceWorker</code></a> or <a href="../messageport"><code>MessagePort</code></a> that sent the message.</li> <li>
<code>ports</code>: An array containing the <a href="../messageport"><code>MessagePort</code></a> objects connected to the channel sending the message.</li> </ul> </dd> </dl> <h2 id="Examples">Examples</h2> <pre data-language="js">var init = {
             data : 'hello message',
             source : MessagePortReference,
             ports : MessagePortListReference
           }

var mySWME = new ServiceWorkerMessageEvent('message', init);</pre> <h2 id="Browser_compatibility">Browser compatibility<a href="https://github.com/mdn/browser-compat-data" class="bc-github-link">Update compatibility data on GitHub</a>
</h2>   <div class="_table">
<table class="bc-table bc-table-web">
<thead>
<tr class="bc-platforms">
<th></th>
<th colspan="6">Desktop</th>
</tr>
<tr class="bc-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Internet Explorer</th>
<th>Opera</th>
<th>Safari</th>
</tr>
</thead>
<tbody><tr>
<th scope="row">Basic support 
</th>
<td class="bc-supports-yes"> 45</td>
<td class="bc-supports-yes bc-has-history"> 17
<dl>
<dt class="bc-supports-yes bc-supports"> 17
</dt>

<dt class="bc-supports-yes bc-supports"> 16<div class="bc-icons">Disabled </div>
</dt>
<dd>Disabled From version 16: this feature is behind the <code>Enable service workers</code> preference.</dd>
</dl>
</td>
<td class="bc-supports-no bc-has-history">44 — 55
<dl>
<dt class="bc-supports-no bc-supports">44 — 55
</dt>
<dd> Service workers (and Push) have been disabled in the Firefox 45 and 52 Extended Support Releases (ESR).</dd>
<dd> In Firefox 55 and later, the standard <code>MessageEvent</code> interface must be used instead.</dd>
</dl>
</td>
<td class="bc-supports-no"> No</td>
<td class="bc-supports-yes"> 24</td>
<td class="bc-supports-no"> No</td>
</tr></tbody>
</table>
<table class="bc-table bc-table-web">
<thead>
<tr class="bc-platforms">
<th></th>
<th colspan="7">Mobile</th>
</tr>
<tr class="bc-browsers">
<th></th>
<th>Android webview</th>
<th>Chrome for Android</th>
<th>Edge Mobile</th>
<th>Firefox for Android</th>
<th>Opera for Android</th>
<th>iOS Safari</th>
<th>Samsung Internet</th>
</tr>
</thead>
<tbody><tr>
<th scope="row">Basic support 
</th>
<td class="bc-supports-no"> No</td>
<td class="bc-supports-yes"> 45</td>
<td> ? </td>
<td class="bc-supports-no">44 — 55</td>
<td class="bc-supports-yes"> 24</td>
<td class="bc-supports-no"> No</td>
<td class="bc-supports-yes"> 4.0</td>
</tr></tbody>
</table>
</div>  <h2 id="See_also">See also</h2> <ul> <li><a href="../service_worker_api/using_service_workers">Using Service Workers</a></li> <li><a href="https://github.com/mdn/sw-test">Service workers basic code example</a></li> <li><a href="https://jakearchibald.github.io/isserviceworkerready/">Is ServiceWorker ready?</a></li> <li><a href="../channel_messaging_api">Channel Messaging</a></li> </ul><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerMessageEvent/ServiceWorkerMessageEvent$edit" class="_attribution-link">Edit this page on MDN</a>
  </p>
</div>
<div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2018 Mozilla Developer Network and individual contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerMessageEvent/ServiceWorkerMessageEvent" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerMessageEvent/ServiceWorkerMessageEvent</a>
  </p>
</div>
