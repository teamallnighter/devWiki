<h1>element.closest</h1>   The <code><strong>Element.closest()</strong></code> method returns the closest ancestor of the current element (or the current element itself) which matches the selectors given in parameter. If there isn't such an ancestor, it returns <code>null</code>. <h2 name="Syntax" id="Syntax">Syntax</h2> <pre class="syntaxbox">var <em>elt =</em><em> element</em>.closest(<em>selectors</em>); 
</pre> <h3 id="Parameters">Parameters</h3> <ul> <li>
<em>selectors</em> is a <a href="../domstring"><code>DOMString</code></a> containing a selector list like <code>"p:hover, .toto + q"</code>
</li> <li>
<em>element</em> is the <a href="../element"><code>Element</code></a> at the top of the tree of elements to be dealt with.</li> </ul> <h3 id="Result_value">Result value</h3> <ul> <li>
<em>elt</em> is the <a href="../element"><code>Element</code></a> which is the closest ancestor of the selected elements. It may be null.</li> </ul> <h3 id="Exceptions">Exceptions</h3> <ul> <li>
<a href="../domexception#exception-SyntaxError"><code>SyntaxError</code></a> is thrown if the <em>selectors</em> is not a valid selector list string.</li> </ul> <h2 name="Example" id="Example">Example</h2> <pre data-language="html">&lt;article&gt;
  &lt;div id="div-01"&gt;Here is div-01
    &lt;div id="div-02"&gt;Here is div-02
      &lt;div id="div-03"&gt;Here is div-03&lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/article&gt;</pre> <pre data-language="js">var el = document.getElementById('div-03');

var r1 = el.closest("#div-02");  
// returns the element with the id=div-02

var r2 = el.closest("div div");  
// returns the closest ancestor which is a div in div, here is div-03 itself

var r3 = el.closest("article &gt; div");  
// returns the closest ancestor which is a div and has a parent article, here is div-01

var r4 = el.closest(":not(div)");
// returns the closest ancestor which is not a div, here is the outmost article</pre> <h2 name="Polyfill" id="Polyfill">Polyfill</h2> <p>For browsers that do not support <code>Element.closest()</code>, but carry support for <code>element.matches()</code> (or a prefixed equivalent, meaning IE9+), a polyfill exists:</p> <pre data-language="js">if (!Element.prototype.matches)
    Element.prototype.matches = Element.prototype.msMatchesSelector || 
                                Element.prototype.webkitMatchesSelector;

if (!Element.prototype.closest) {
    Element.prototype.closest = function(s) {
        var el = this;
        if (!document.documentElement.contains(el)) return null;
        do {
            if (el.matches(s)) return el;
            el = el.parentElement || el.parentNode;
        } while (el !== null &amp;&amp; el.nodeType === 1); 
        return null;
    };
}</pre> <p>However, if you really do require IE 8 support, then the following polyfill will do the job very slowly, but eventually. However, it will only support CSS 2.1 selectors in IE 8, and it can cause severe lag spikes in production websites.</p> <pre data-language="js">if (window.Element &amp;&amp; !Element.prototype.closest) {
    Element.prototype.closest = 
    function(s) {
        var matches = (this.document || this.ownerDocument).querySelectorAll(s),
            i,
            el = this;
        do {
            i = matches.length;
            while (--i &gt;= 0 &amp;&amp; matches.item(i) !== el) {};
        } while ((i &lt; 0) &amp;&amp; (el = el.parentElement)); 
        return el;
    };
}
</pre> <h2 name="Specification" id="Specification">Specifications</h2> <div class="_table"><table class="standard-table"> <tbody> <tr> <th scope="col">Specification</th> <th scope="col">Status</th> <th scope="col">Comment</th> </tr> <tr> <td><a href="https://dom.spec.whatwg.org/#dom-element-closest" hreflang="en">DOM<br><small>The definition of 'Element.closest()' in that specification.</small></a></td> <td><span class="spec-Living">Living Standard</span></td> <td>Initial definition.</td> </tr> </tbody> </table></div> <h2 name="Browser_compatibility" id="Browser_compatibility">Browser compatibility<a href="https://github.com/mdn/browser-compat-data" class="bc-github-link">Update compatibility data on GitHub</a>
</h2>   <div class="_table">
<table class="bc-table bc-table-web">
<thead>
<tr class="bc-platforms">
<th></th>
<th colspan="6">Desktop</th>
</tr>
<tr class="bc-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Internet Explorer</th>
<th>Opera</th>
<th>Safari</th>
</tr>
</thead>
<tbody><tr>
<th scope="row">Basic support</th>
<td class="bc-supports-yes"> 41</td>
<td class="bc-supports-yes"> 15</td>
<td class="bc-supports-yes"> 35</td>
<td class="bc-supports-no"> No</td>
<td class="bc-supports-yes"> 28</td>
<td class="bc-supports-yes"> 9</td>
</tr></tbody>
</table>
<table class="bc-table bc-table-web">
<thead>
<tr class="bc-platforms">
<th></th>
<th colspan="7">Mobile</th>
</tr>
<tr class="bc-browsers">
<th></th>
<th>Android webview</th>
<th>Chrome for Android</th>
<th>Edge Mobile</th>
<th>Firefox for Android</th>
<th>Opera for Android</th>
<th>iOS Safari</th>
<th>Samsung Internet</th>
</tr>
</thead>
<tbody><tr>
<th scope="row">Basic support</th>
<td> ? </td>
<td> ? </td>
<td> ? </td>
<td class="bc-supports-yes"> 35</td>
<td> ? </td>
<td class="bc-supports-yes"> 9</td>
<td> ? </td>
</tr></tbody>
</table>
</div>  <h2 id="See_also">See also</h2> <ul> <li>The <a href="../element"><code>Element</code></a> interface.</li> <li> <div class="syntaxbox"><a href="https://developer.mozilla.org/en-US/docs/Web/Guide/CSS/Getting_started/Selectors">The syntax of Selectors</a></div> </li> <li> <div class="syntaxbox">Other methods that take selectors: <a href="queryselector"><code>element.querySelector()</code></a> and <a href="matches"><code>element.matches()</code></a>.</div> </li> </ul><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/element/closest$edit" class="_attribution-link">Edit this page on MDN</a>
  </p>
</div>
<div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2018 Mozilla Developer Network and individual contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/element/closest" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/element/closest</a>
  </p>
</div>
