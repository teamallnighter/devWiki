<h1>MediaDevices</h1> <p>The <code>MediaDevices</code> interface provides access to connected media input devices like cameras and microphones, as well as screen sharing. In essence, it lets you obtain access to any hardware source of media data.</p> <h2 id="Properties">Properties</h2> <p><em>Inherits properties from its parent <a href="eventtarget"><code>EventTarget</code></a>.</em></p> <h3 name="Handlers" id="Handlers">Event handlers</h3> <dl> <dt><a href="mediadevices/ondevicechange"><code>MediaDevices.ondevicechange</code></a></dt> <dd>The event handler for the <code><a href="https://developer.mozilla.org/en-US/docs/Web/Events/devicechange">devicechange</a></code> event. This event is delivered to the <code>MediaDevices</code> object when a media input or output device is attached to or removed from the user's computer.</dd> </dl> <h2 id="Methods">Methods</h2> <p><em>Inherits methods from its parent <a href="eventtarget"><code>EventTarget</code></a>.</em></p> <dl> <dt><a href="eventtarget/addeventlistener"><code>EventTarget.addEventListener()</code></a></dt> <dd>Registers an event handler to a specific event type.</dd> <dt><a href="mediadevices/enumeratedevices"><code>MediaDevices.enumerateDevices()</code></a></dt> <dd>Obtains an array of information about the media input and output devices available on the system.</dd> <dt><a href="mediadevices/getsupportedconstraints"><code>MediaDevices.getSupportedConstraints()</code></a></dt> <dd>Returns an object conforming to <a href="mediatracksupportedconstraints"><code>MediaTrackSupportedConstraints</code></a> indicating which constrainable properties are supported on the <a href="mediastreamtrack"><code>MediaStreamTrack</code></a> interface. See <a href="media_streams_api#Capabilities_and_constraints">Capabilities and constraints</a> in <a href="media_streams_api">Media Capture and Streams API (Media Streams)</a> to learn more about constraints and how to use them.</dd> <dt><a href="mediadevices/getusermedia"><code>MediaDevices.getUserMedia()</code></a></dt> <dd>With the user's permission through a prompt, turns on a camera or screensharing and/or a microphone on the system and provides a <a href="mediastream"><code>MediaStream</code></a> containing a video track and/or an audio track with the input.</dd> <dt><a href="eventtarget/removeeventlistener"><code>EventTarget.removeEventListener()</code></a></dt> <dd>Removes an event listener.</dd> </dl> <h2 id="Example">Example</h2> <pre data-language="js">'use strict';

// Put variables in global scope to make them available to the browser console.
var video = document.querySelector('video');
var constraints = window.constraints = {
  audio: false,
  video: true
};
var errorElement = document.querySelector('#errorMsg');

navigator.mediaDevices.getUserMedia(constraints)
.then(function(stream) {
  var videoTracks = stream.getVideoTracks();
  console.log('Got stream with constraints:', constraints);
  console.log('Using video device: ' + videoTracks[0].label);
  stream.onremovetrack = function() {
    console.log('Stream ended');
  };
  window.stream = stream; // make variable available to browser console
  video.srcObject = stream;
})
.catch(function(error) {
  if (error.name === 'ConstraintNotSatisfiedError') {
    errorMsg('The resolution ' + constraints.video.width.exact + 'x' +
        constraints.video.width.exact + ' px is not supported by your device.');
  } else if (error.name === 'PermissionDeniedError') {
    errorMsg('Permissions have not been granted to use your camera and ' +
      'microphone, you need to allow the page access to your devices in ' +
      'order for the demo to work.');
  }
  errorMsg('getUserMedia error: ' + error.name, error);
});

function errorMsg(msg, error) {
  errorElement.innerHTML += '&lt;p&gt;' + msg + '&lt;/p&gt;';
  if (typeof error !== 'undefined') {
    console.error(error);
  }
}</pre> <h2 id="Specifications">Specifications</h2> <div class="_table"><table class="standard-table"> <tbody> <tr> <th scope="col">Specification</th> <th scope="col">Status</th> <th scope="col">Comment</th> </tr> <tr> <td><a href="https://w3c.github.io/mediacapture-main/#mediadevices" hreflang="en">Media Capture and Streams<br><small>The definition of 'MediaDevices' in that specification.</small></a></td> <td><span class="spec-CR">Candidate Recommendation</span></td> <td>Initial definition</td> </tr> </tbody> </table></div> <h2 id="Browser_compatibility">Browser compatibility<a href="https://github.com/mdn/browser-compat-data" class="bc-github-link">Update compatibility data on GitHub</a>
</h2>   <div class="_table">
<table class="bc-table bc-table-web">
<thead>
<tr class="bc-platforms">
<th></th>
<th colspan="6">Desktop</th>
</tr>
<tr class="bc-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Internet Explorer</th>
<th>Opera</th>
<th>Safari</th>
</tr>
</thead>
<tbody>
<tr>
<th scope="row">Basic support</th>
<td class="bc-supports-yes"> 47</td>
<td class="bc-supports-yes"> Yes</td>
<td class="bc-supports-yes"> 36</td>
<td class="bc-supports-no"> No</td>
<td class="bc-supports-yes"> 30</td>
<td class="bc-supports-no"> No</td>
</tr>
<tr>
<th scope="row"><a href="https://developer.mozilla.org/docs/Web/API/MediaDevices/ondevicechange"><code>ondevicechange</code></a></th>
<td class="bc-supports-yes"> 57</td>
<td> ? </td>
<td class="bc-supports-yes bc-has-history"> 52
<dl>
<dt class="bc-supports-yes bc-supports"> 52
</dt>

<dt class="bc-supports-no bc-supports">51 — 52<div class="bc-icons"> Disabled </div>
</dt>
<dd> <code>MediaDevices.ondevicechange</code> is supported only on macOS.</dd>
<dd>Disabled From version 51 until version 52 (exclusive): this feature is behind the <code>media.ondevicechange.enabled</code> preference (needs to be set to <code>true</code>). To change preferences in Firefox, visit about:config.</dd>
</dl>
</td>
<td> ? </td>
<td class="bc-supports-yes"> 34</td>
<td> ? </td>
</tr>
<tr>
<th scope="row"><a href="https://developer.mozilla.org/docs/Web/API/MediaDevices/enumerateDevices"><code>enumerateDevices</code></a></th>
<td class="bc-supports-yes"> 47</td>
<td class="bc-supports-yes"> Yes</td>
<td class="bc-supports-yes bc-has-history"> 63
<dl>
<dt class="bc-supports-yes bc-supports"> 63
</dt>
<dd> Prior to Firefox 63, <code>enumerateDevices()</code> only returned input devices. Starting with Firefox 63, output devices are also included.</dd>
<dt class="bc-supports-yes bc-supports"> 39
</dt>

</dl>
</td>
<td class="bc-supports-no"> No</td>
<td class="bc-supports-yes"> 34</td>
<td class="bc-supports-no"> No</td>
</tr>
<tr>
<th scope="row"><a href="https://developer.mozilla.org/docs/Web/API/MediaDevices/getSupportedConstraints"><code>getSupportedConstraints</code></a></th>
<td class="bc-supports-yes"> 53</td>
<td> ? </td>
<td class="bc-supports-yes"> 44</td>
<td> ? </td>
<td class="bc-supports-yes"> 40</td>
<td class="bc-supports-yes"> 11</td>
</tr>
<tr>
<th scope="row"><a href="https://developer.mozilla.org/docs/Web/API/MediaDevices/getUserMedia"><code>getUserMedia</code></a></th>
<td class="bc-supports-yes bc-has-history"> 52
<dl>
<dt class="bc-supports-yes bc-supports"> 52
</dt>

<dt class="bc-supports-no bc-supports">47 — 52<div class="bc-icons"> Disabled </div>
</dt>
<dd> Older versions of Chrome implement <code>navigator.webkitGetUserMedia</code>, a prefixed form of the legacy <a href="https://developer.mozilla.org/docs/Web/API/Navigator/getUserMedia"><code>navigator.getUserMedia</code></a> API.</dd>
<dd>Disabled From version 47 until version 52 (exclusive): this feature is behind the <code>Experimental Web Platform features</code> preference (needs to be set to <code>Enabled</code>). To change preferences in Chrome, visit chrome://flags.</dd>
</dl>
</td>
<td class="bc-supports-yes"> Yes</td>
<td class="bc-supports-yes bc-has-history"> 36
<dl>
<dt class="bc-supports-yes bc-supports"> 36
</dt>
<dd> Older versions of Firefox implement <code>navigator.mozGetUserMedia</code>, a prefixed form of the legacy <a href="https://developer.mozilla.org/docs/Web/API/Navigator/getUserMedia"><code>navigator.getUserMedia</code></a> API.</dd>
<dd> Before Firefox 55, <code>getUserMedia()</code> incorrectly returns <code>NotSupportedError</code> when the list of constraints specified is empty, or has all constraints set to <code>false</code>. Starting in Firefox 55, this situation now correctly calls the failure handler with a <code>TypeError</code>.</dd>
</dl>
</td>
<td class="bc-supports-no"> No</td>
<td class="bc-supports-yes bc-has-history"> 40
<dl>
<dt class="bc-supports-yes bc-supports"> 40
</dt>

<dt class="bc-supports-no bc-supports">34 — 40<div class="bc-icons"> Disabled </div>
</dt>
<dd> Older versions of Opera implement <code>navigator.webkitGetUserMedia</code>, a prefixed form of the legacy <a href="https://developer.mozilla.org/docs/Web/API/Navigator/getUserMedia"><code>navigator.getUserMedia</code></a> API.</dd>
<dd>Disabled From version 34 until version 40 (exclusive): this feature is behind the <code>Experimental Web Platform features</code> preference (needs to be set to <code>Enabled</code>).</dd>
</dl>
</td>
<td class="bc-supports-yes"> 11</td>
</tr>
<tr>
<th scope="row">Stereo audio capture</th>
<td> ? </td>
<td> ? </td>
<td class="bc-supports-yes"> 55</td>
<td class="bc-supports-no"> No</td>
<td> ? </td>
<td class="bc-supports-no"> No</td>
</tr>
</tbody>
</table>
<table class="bc-table bc-table-web">
<thead>
<tr class="bc-platforms">
<th></th>
<th colspan="7">Mobile</th>
</tr>
<tr class="bc-browsers">
<th></th>
<th>Android webview</th>
<th>Chrome for Android</th>
<th>Edge Mobile</th>
<th>Firefox for Android</th>
<th>Opera for Android</th>
<th>iOS Safari</th>
<th>Samsung Internet</th>
</tr>
</thead>
<tbody>
<tr>
<th scope="row">Basic support</th>
<td class="bc-supports-yes"> 47</td>
<td class="bc-supports-yes"> 47</td>
<td class="bc-supports-yes"> Yes</td>
<td class="bc-supports-yes"> 36</td>
<td class="bc-supports-yes"> 30</td>
<td class="bc-supports-no"> No</td>
<td> ? </td>
</tr>
<tr>
<th scope="row"><a href="https://developer.mozilla.org/docs/Web/API/MediaDevices/ondevicechange"><code>ondevicechange</code></a></th>
<td class="bc-supports-no"> No</td>
<td class="bc-supports-no"> No</td>
<td> ? </td>
<td> ? </td>
<td class="bc-supports-yes"> 34</td>
<td> ? </td>
<td> ? </td>
</tr>
<tr>
<th scope="row"><a href="https://developer.mozilla.org/docs/Web/API/MediaDevices/enumerateDevices"><code>enumerateDevices</code></a></th>
<td class="bc-supports-yes"> 47</td>
<td class="bc-supports-yes"> 47</td>
<td class="bc-supports-yes"> Yes</td>
<td class="bc-supports-yes"> 39</td>
<td class="bc-supports-yes"> 34</td>
<td class="bc-supports-no"> No</td>
<td> ? </td>
</tr>
<tr>
<th scope="row"><a href="https://developer.mozilla.org/docs/Web/API/MediaDevices/getSupportedConstraints"><code>getSupportedConstraints</code></a></th>
<td class="bc-supports-yes"> 53</td>
<td class="bc-supports-yes"> 52</td>
<td> ? </td>
<td class="bc-supports-yes"> 50</td>
<td class="bc-supports-yes"> 40</td>
<td class="bc-supports-yes"> 11</td>
<td> ? </td>
</tr>
<tr>
<th scope="row"><a href="https://developer.mozilla.org/docs/Web/API/MediaDevices/getUserMedia"><code>getUserMedia</code></a></th>
<td class="bc-supports-yes"> 53</td>
<td class="bc-supports-yes bc-has-history"> 52
<dl>
<dt class="bc-supports-yes bc-supports"> 52
</dt>

<dt class="bc-supports-no bc-supports">47 — 52<div class="bc-icons"> Disabled </div>
</dt>
<dd> Older versions of Chrome implement <code>navigator.webkitGetUserMedia</code>, a prefixed form of the legacy <a href="https://developer.mozilla.org/docs/Web/API/Navigator/getUserMedia"><code>navigator.getUserMedia</code></a> API.</dd>
<dd>Disabled From version 47 until version 52 (exclusive): this feature is behind the <code>Experimental Web Platform features</code> preference (needs to be set to <code>Enabled</code>). To change preferences in Chrome, visit chrome://flags.</dd>
</dl>
</td>
<td class="bc-supports-yes"> Yes</td>
<td class="bc-supports-yes bc-has-history"> 36
<dl>
<dt class="bc-supports-yes bc-supports"> 36
</dt>
<dd> Older versions of Firefox implement <code>navigator.mozGetUserMedia</code>, a prefixed form of the legacy <a href="https://developer.mozilla.org/docs/Web/API/Navigator/getUserMedia"><code>navigator.getUserMedia</code></a> API.</dd>
</dl>
</td>
<td class="bc-supports-yes bc-has-history"> 40
<dl>
<dt class="bc-supports-yes bc-supports"> 40
</dt>

<dt class="bc-supports-no bc-supports">34 — 40<div class="bc-icons"> Disabled </div>
</dt>
<dd> Older versions of Opera implement <code>navigator.webkitGetUserMedia</code>, a prefixed form of the legacy <a href="https://developer.mozilla.org/docs/Web/API/Navigator/getUserMedia"><code>navigator.getUserMedia</code></a> API.</dd>
<dd>Disabled From version 34 until version 40 (exclusive): this feature is behind the <code>Experimental Web Platform features</code> preference (needs to be set to <code>Enabled</code>).</dd>
</dl>
</td>
<td class="bc-supports-yes"> 11</td>
<td> ? </td>
</tr>
<tr>
<th scope="row">Stereo audio capture</th>
<td> ? </td>
<td> ? </td>
<td> ? </td>
<td class="bc-supports-no"> No</td>
<td> ? </td>
<td class="bc-supports-no"> No</td>
<td> ? </td>
</tr>
</tbody>
</table>
</div>  <h2 id="See_also">See also</h2> <ul> <li>
<a href="media_streams_api">Media Capture and Streams API</a>: The API this interface is part of.</li> <li><a href="webrtc_api">WebRTC API</a></li> <li>
<a href="navigator/mediadevices"><code>Navigator.mediaDevices</code></a>: Returns a reference to a <code>MediaDevices</code> object that can be used to access devices.</li> <li>
<a href="https://github.com/chrisjohndigital/CameraCaptureJS">CameraCaptureJS:</a> HTML5 video capture and playback using MediaDevices and the MediaStream Recording API (<a href="https://github.com/chrisjohndigital/CameraCaptureJS">source on GitHub</a>)</li> <li>
<a href="https://github.com/chrisjohndigital/OpenLang">OpenLang</a>: HTML5 video language lab web application using MediaDevices and the MediaStream Recording API for video recording (<a href="https://github.com/chrisjohndigital/OpenLang">source on GitHub</a>)</li> </ul><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/MediaDevices$edit" class="_attribution-link">Edit this page on MDN</a>
  </p>
</div>
<div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2018 Mozilla Developer Network and individual contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/MediaDevices" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/MediaDevices</a>
  </p>
</div>
