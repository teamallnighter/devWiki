<h1>OfflineAudioContext.constructor</h1> <p class="summary">The <code><strong>OfflineAudioContext()</strong></code> constructor—part of the <a href="../web_audio_api">Web Audio API</a>—creates and returns a new <a href="../offlineaudiocontext"><code>OfflineAudioContext</code></a> object instance, which can then be used to render audio to an <a href="../audiobuffer"><code>AudioBuffer</code></a> rather than to an audio output device.</p> <h2 id="Syntax">Syntax</h2> <pre class="syntaxbox">var <em>offlineAudioCtx</em> = new OfflineAudioContext(<em>numberOfChannels</em>, <em>length</em>, <em>sampleRate</em>);

var <em>offlineAudioCtx</em> = new OfflineAudioContext(<em>options</em>);</pre> <h3 id="Parameters">Parameters</h3> <p>You can specify the parameters for the <code>OfflineAudioContext()</code> constructor as either the same set of parameters as are inputs into the <a href="https://developer.mozilla.org/en-US/docs/Web/API/AudioContext/createBuffer"><code>AudioContext.createBuffer()</code></a> method, or by passing those parameters in an <code>options</code> object. Either way, the individual parameters are the same.</p> <dl> <dt><code>numberOfChannels</code></dt> <dd>An integer specifying the number of channels the resulting <a href="../audiobuffer"><code>AudioBuffer</code></a> should have.</dd> <dt><code>length</code></dt> <dd>An integer specifying the size of the buffer to create for the audio context, in sample-frames, where one sample-frame is a unit that can contain a single sample of audio data for every channel in the audio data. For example, a 512 sample-frame buffer for 8 channels of sound would be <code>512 * ((sizeof(float32) * 8) * 32)</code> or 524,288 bytes.</dd> <dt><code>sampleRate</code></dt> <dd>The sample-rate of the linear audio data in sample-frames per second. All user agents are required to support a range of 22050kHz to 96000kHz, and may support a wider range than that. The most commonly-used rate is 44100kHz, which is the sample rate used by CD audio.</dd> </dl> <p>It is important to note that, whereas you can create a new <a href="../audiocontext"><code>AudioContext</code></a> using the <a href="../audiocontext/audiocontext"><code>new AudioContext()</code></a> constructor with no arguments, the <code>OfflineAudioContext()</code> constructor requires three arguments, since it needs to create an <code>AudioBuffer</code>. This works in exactly the same way as when you create a new <a href="../audiobuffer"><code>AudioBuffer</code></a> with the <a href="https://developer.mozilla.org/en-US/docs/Web/API/AudioContext/createBuffer"><code>AudioContext.createBuffer()</code></a> method. For more detail, read <a href="../web_audio_api/basic_concepts_behind_web_audio_api#Audio_buffers.3A_frames.2C_samples_and_channels">Audio buffers: frames, samples and channels</a> from our <a href="../web_audio_api/basic_concepts_behind_web_audio_api">Basic concepts</a> guide.</p> <h3 id="Return_value">Return value</h3> <p>A new <a href="../offlineaudiocontext"><code>OfflineAudioContext</code></a> object whose associated <code>AudioBuffer</code> is configured as requested.</p> <p class="note">Like a regular <code>AudioContext</code>, an <code>OfflineAudioContext</code> can be the target of events, therefore it implements the <a href="../eventtarget"><code>EventTarget</code></a> interface.</p> <h2 id="Example">Example</h2> <pre data-language="js">const offlineCtx = new OfflineAudioContext({
  numberOfChannels: 2,
  length: 44100 * 40,
  sampleRate: 44100,
});
const source = offlineCtx.createBufferSource();
// etc...
</pre> <p class="note">For a full working example, see our <a href="https://mdn.github.io/webaudio-examples/offline-audio-context-promise/">offline-audio-context-promise</a> Github repo (see the <a href="https://github.com/mdn/webaudio-examples/blob/master/offline-audio-context-promise/index.html">source code</a> too.)</p> <h2 id="Specifications">Specifications</h2> <div class="_table"><table class="standard-table"> <tbody> <tr> <th scope="col">Specification</th> <th scope="col">Status</th> <th scope="col">Comment</th> </tr> <tr> <td><a href="https://webaudio.github.io/web-audio-api/#dom-offlineaudiocontext-offlineaudiocontext" hreflang="en">Web Audio API<br><small>The definition of 'OfflineAudioContext()' in that specification.</small></a></td> <td><span class="spec-WD">Working Draft</span></td> <td> </td> </tr> </tbody> </table></div> <h2 id="Browser_compatibility">Browser compatibility<a href="https://github.com/mdn/browser-compat-data" class="bc-github-link">Update compatibility data on GitHub</a>
</h2>  <div class="_table">
<table class="bc-table bc-table-web">
<thead>
<tr class="bc-platforms">
<th></th>
<th colspan="6">Desktop</th>
</tr>
<tr class="bc-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Internet Explorer</th>
<th>Opera</th>
<th>Safari</th>
</tr>
</thead>
<tbody>
<tr>
<th scope="row">Basic support</th>
<td class="bc-supports-yes bc-has-history"> 55
<dl>
<dt class="bc-supports-yes bc-supports"> 55
</dt>
<dd> Before Chrome 59, the default values were not supported.</dd>
</dl>
</td>
<td> ? </td>
<td class="bc-supports-yes"> 53</td>
<td class="bc-supports-no"> No</td>
<td class="bc-supports-yes"> 42</td>
<td> ? </td>
</tr>
<tr>
<th scope="row">Parameters accepted as a single object, as well as being passed in individually</th>
<td class="bc-supports-yes"> 62</td>
<td> ? </td>
<td class="bc-supports-yes"> 57</td>
<td class="bc-supports-no"> No</td>
<td class="bc-supports-yes"> 49</td>
<td class="bc-supports-no"> No</td>
</tr>
</tbody>
</table>
<table class="bc-table bc-table-web">
<thead>
<tr class="bc-platforms">
<th></th>
<th colspan="7">Mobile</th>
</tr>
<tr class="bc-browsers">
<th></th>
<th>Android webview</th>
<th>Chrome for Android</th>
<th>Edge Mobile</th>
<th>Firefox for Android</th>
<th>Opera for Android</th>
<th>iOS Safari</th>
<th>Samsung Internet</th>
</tr>
</thead>
<tbody>
<tr>
<th scope="row">Basic support</th>
<td class="bc-supports-yes bc-has-history"> 55
<dl>
<dt class="bc-supports-yes bc-supports"> 55
</dt>
<dd> Before version 59, the default values were not supported.</dd>
</dl>
</td>
<td class="bc-supports-yes bc-has-history"> 55
<dl>
<dt class="bc-supports-yes bc-supports"> 55
</dt>
<dd> Before Chrome 59, the default values were not supported.</dd>
</dl>
</td>
<td> ? </td>
<td class="bc-supports-yes"> 53</td>
<td class="bc-supports-yes"> 42</td>
<td> ? </td>
<td class="bc-supports-yes"> 6.0</td>
</tr>
<tr>
<th scope="row">Parameters accepted as a single object, as well as being passed in individually</th>
<td class="bc-supports-yes"> 62</td>
<td class="bc-supports-yes"> 62</td>
<td> ? </td>
<td class="bc-supports-yes"> 57</td>
<td class="bc-supports-yes"> 49</td>
<td class="bc-supports-no"> No</td>
<td class="bc-supports-no"> No</td>
</tr>
</tbody>
</table>
</div><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/OfflineAudioContext/OfflineAudioContext$edit" class="_attribution-link">Edit this page on MDN</a>
  </p>
</div>
<div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2018 Mozilla Developer Network and individual contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/OfflineAudioContext/OfflineAudioContext" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/OfflineAudioContext/OfflineAudioContext</a>
  </p>
</div>
