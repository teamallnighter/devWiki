<h1>SubtleCrypto.wrapKey</h1> <p>The <code><strong>SubtleCrypto.wrapKey()</strong></code> method returns a <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise"><code>Promise</code></a> of a wrapped symmetric key for usage (transfer, storage) in unsecure environments. The wrapped buffer returned is in the format given in parameters, and contains the key wrapped by the given wrapping key with the given algorithm.</p> <h2 id="Syntax">Syntax</h2> <pre class="syntaxbox">var <em>result</em> = <em>crypto</em>.subtle.wrapKey(<em>format</em>, <em>key</em>, <em>wrappingKey</em>, <em>wrapAlgo</em>);
</pre> <h3 id="Parameters">Parameters</h3> <ul> <li>
<em><code>format</code></em> is an enumerated value describing the data format in which the key must be wrapped. It can be one of the following: <ul> <li>
<code>"raw"</code>, the key as an array of bytes, usually a secret key.</li> <li>
<code>"pkcs8"</code> a private key, in the <a href="http://tools.ietf.org/html/rfc5208">IETF Public Key-Cryptographic Standard Encryption #8</a>.</li> <li>
<code>"spki"</code>, usually a public key, in the <a href="http://en.wikipedia.org/wiki/Simple_public-key_infrastructure">Simple public key infrastructure</a> standard</li> <li>
<code>"jwk"</code>, the key in the <a href="https://tools.ietf.org/html/draft-ietf-jose-json-web-key-41">JSON Web Key</a> format.</li> </ul> </li> <li>
<code><em>key</em></code> is the <a href="../cryptokey"><code>CryptoKey</code></a> to wrap.</li> <li>
<code><em>wrappingkey</em></code> is the <a href="../cryptokey"><code>CryptoKey</code></a> used to perform the wrapping.</li> <li>
<code><em>wrapAlgo</em></code> is the <a href="../domstring"><code>DOMString</code></a>} representing the algorithm used to perform the wrapping. It is one of the following: <code>AES-CBC</code>, <code>AES-CTR</code>, <code>AES-GCM</code>, <code>RSA-OAEP</code>, and <code>AES-KW</code>.</li> </ul> <h3 id="Return_value">Return value</h3> <ul> <li>
<code><em>result</em></code> is a <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise"><code>Promise</code></a> that returns the wrapped key in the requested format.</li> </ul> <h3 id="Exceptions">Exceptions</h3> <p>The promise is rejected when one of the following exceptions is encountered:</p> <ul> <li>
<a href="../domexception#exception-InvalidAccessError"><code>InvalidAccessError</code></a> when the wrapping key is not a key for the requested wrap algorithm.</li> <li>
<a href="../domexception#exception-NotSupported"><code>NotSupported</code></a> when trying to use an algorithm that is either unknown or isn't suitable for encryption or wrapping.</li> <li>
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypeError"><code>TypeError</code></a> when trying to use an invalid format.</li> </ul> <h2 id="Specifications">Specifications</h2> <div class="_table"><table class="standard-table"> <tbody> <tr> <th scope="col">Specification</th> <th scope="col">Status</th> <th scope="col">Comment</th> </tr> <tr> <td><a href="https://www.w3.org/TR/WebCryptoAPI/#dfn-SubtleCrypto-method-wrapKey" hreflang="en">Web Cryptography API<br><small>The definition of 'SubtleCrypto.wrapKey()' in that specification.</small></a></td> <td><span class="spec-REC">Recommendation</span></td> <td>Initial definition.</td> </tr> </tbody> </table></div> <h2 id="Browser_compatibility">Browser compatibility<a href="https://github.com/mdn/browser-compat-data" class="bc-github-link">Update compatibility data on GitHub</a>
</h2>  <div class="_table">
<table class="bc-table bc-table-web">
<thead>
<tr class="bc-platforms">
<th></th>
<th colspan="6">Desktop</th>
</tr>
<tr class="bc-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Internet Explorer</th>
<th>Opera</th>
<th>Safari</th>
</tr>
</thead>
<tbody><tr>
<th scope="row">Basic support</th>
<td class="bc-supports-yes"> 37</td>
<td class="bc-supports-yes"> 12</td>
<td class="bc-supports-yes bc-has-history"> 34
<dl>
<dt class="bc-supports-yes bc-supports"> 34
</dt>

<dt class="bc-supports-no bc-supports">32 — 34<div class="bc-icons">Disabled </div>
</dt>
<dd>Disabled From version 32 until version 34 (exclusive): this feature is behind the <code>dom.webcrypto.enabled</code> preference (needs to be set to <code>true</code>). To change preferences in Firefox, visit about:config.</dd>
</dl>
</td>
<td class="bc-supports-partial bc-has-history">11
<dl>
<dt class="bc-supports-partial bc-supports">11
</dt>
<dd> Returns <code>KeyOperation</code> instead of <code>Promise</code>
</dd>
</dl>
</td>
<td class="bc-supports-yes"> 24</td>
<td class="bc-supports-yes"> 7</td>
</tr></tbody>
</table>
<table class="bc-table bc-table-web">
<thead>
<tr class="bc-platforms">
<th></th>
<th colspan="7">Mobile</th>
</tr>
<tr class="bc-browsers">
<th></th>
<th>Android webview</th>
<th>Chrome for Android</th>
<th>Edge Mobile</th>
<th>Firefox for Android</th>
<th>Opera for Android</th>
<th>iOS Safari</th>
<th>Samsung Internet</th>
</tr>
</thead>
<tbody><tr>
<th scope="row">Basic support</th>
<td class="bc-supports-yes"> 37</td>
<td class="bc-supports-yes"> 37</td>
<td class="bc-supports-yes"> 12</td>
<td class="bc-supports-yes bc-has-history"> 34
<dl>
<dt class="bc-supports-yes bc-supports"> 34
</dt>

<dt class="bc-supports-no bc-supports">32 — 34<div class="bc-icons">Disabled </div>
</dt>
<dd>Disabled From version 32 until version 34 (exclusive): this feature is behind the <code>dom.webcrypto.enabled</code> preference (needs to be set to <code>true</code>). To change preferences in Firefox, visit about:config.</dd>
</dl>
</td>
<td class="bc-supports-yes"> 24</td>
<td class="bc-supports-yes"> 7</td>
<td class="bc-supports-yes"> 6.0</td>
</tr></tbody>
</table>
</div> <h2 id="See_also">See also</h2> <ul> <li>
<a href="../crypto"><code>Crypto</code></a> and <a href="../crypto/subtle"><code>Crypto.subtle</code></a>.</li> <li>
<a href="../subtlecrypto"><code>SubtleCrypto</code></a>, the interface it belongs to.</li> </ul><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/wrapKey$edit" class="_attribution-link">Edit this page on MDN</a>
  </p>
</div>
<div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2018 Mozilla Developer Network and individual contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/wrapKey" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/wrapKey</a>
  </p>
</div>
