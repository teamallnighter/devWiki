<h1>RTCPeerConnection.onaddstream</h1><div class="notice overheadIndicator experimental"> <p> <strong>This is an <a href="https://developer.mozilla.org/en-US/docs/MDN/Contribute/Guidelines/Conventions_definitions#Experimental">experimental technology</a></strong><br>Check the <a href="#Browser_compatibility">Browser compatibility table</a> carefully before using this in production.</p> </div> <div class="overheadIndicator deprecated deprecatedHeader"> <p><strong> Deprecated</strong><br>This feature has been removed from the Web standards. Though some browsers may still support it, it is in the process of being dropped. Avoid using it and update existing code if possible; see the <a href="#Browser_compatibility">compatibility table</a> at the bottom of this page to guide your decision. Be aware that this feature may cease to work at any time.</p> </div> <p>The <code><strong>RTCPeerConnection.onaddstream</strong></code> event handler is a property containing the code to execute when the <code><a href="https://developer.mozilla.org/en-US/docs/Web/Events/addstream">addstream</a></code> event, of type <a href="https://developer.mozilla.org/en-US/docs/Web/API/MediaStreamEvent"><code>MediaStreamEvent</code></a>, is received by this <a href="../rtcpeerconnection"><code>RTCPeerConnection</code></a>. Such an event is sent when a <a href="../mediastream"><code>MediaStream</code></a> is added to this connection by the remote peer. The event is sent immediately after the call <a href="setremotedescription"><code>setRemoteDescription()</code></a> and doesn't wait for the result of the SDP negotiation.</p> <div class="warning"> <p>This property has been <strong>removed</strong> from the specification; you should now use <a href="ontrack"><code>RTCPeerConnection.ontrack</code></a> to watch for <code><a href="https://developer.mozilla.org/en-US/docs/Web/Events/track">track</a></code> events instead. It is included here in order to help you adapt existing code and understand existing samples, which may not be up-to-date yet.</p> </div> <h2 id="Syntax">Syntax</h2> <pre>RTCPeerConnection.onaddstream = eventHandler;
</pre> <h3 id="Value">Value</h3> <p>This property is a function which handles <code><a href="https://developer.mozilla.org/en-US/docs/Web/Events/addstream">addstream</a></code> events. These events, of type <a href="https://developer.mozilla.org/en-US/docs/Web/API/MediaStreamEvent"><code>MediaStreamEvent</code></a>, are sent when streams are added to the connection by the remote peer. The first time an event occurs may be nearly immediately after the remote end of the connection is set using <a href="setremotedescription"><code>RTCPeerConnection.setRemoteDescription()</code></a>; it doesn't wait for a particular stream to be accepted or rejected using SDP negotiation.</p> <h2 id="Example">Example</h2> <p>This code, based on an older version of our <a href="../webrtc_api/signaling_and_video_calling">Signaling and video calling</a> sample, responds to <code><a href="https://developer.mozilla.org/en-US/docs/Web/Events/addstream">addstream</a></code> events by setting the video source for a <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/video"><code>&lt;video&gt;</code></a> element to the stream specified in the event, and then enabling a "hang up" button in the app's user interface.</p> <pre data-language="js">pc.onaddstream = function(event) {
  document.getElementById("received_video").srcObject = event.stream;
  document.getElementById("hangup-button").disabled = false;
};
</pre> <h2 name="Specifications" id="Specifications">Specifications</h2> <div class="_table"><table class="standard-table"> <thead> <tr> <th scope="col">Specification</th> <th scope="col">Status</th> <th scope="col">Comment</th> </tr> </thead> <tbody> <tr> <td><a href="https://w3c.github.io/webrtc-pc/#widl-RTCPeerConnection-onaddstream" hreflang="en">WebRTC 1.0: Real-time Communication Between Browsers<br><small>The definition of 'RTCPeerConnection.onaddstream' in that specification.</small></a></td> <td><span class="spec-CR">Candidate Recommendation</span></td> <td>Initial specification.</td> </tr> </tbody> </table></div> <h2 id="Browser_compatibility">Browser compatibility<a href="https://github.com/mdn/browser-compat-data" class="bc-github-link">Update compatibility data on GitHub</a>
</h2> <div class="warning"> <p>This property has been <strong>removed</strong> from the specification; you should now use <a href="ontrack"><code>RTCPeerConnection.ontrack</code></a> to watch for <code><a href="https://developer.mozilla.org/en-US/docs/Web/Events/track">track</a></code> events instead. It is included here in order to help you adapt existing code and understand existing samples, which may not be up-to-date yet.</p> </div>   <div class="_table">
<table class="bc-table bc-table-web">
<thead>
<tr class="bc-platforms">
<th></th>
<th colspan="6">Desktop</th>
</tr>
<tr class="bc-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Internet Explorer</th>
<th>Opera</th>
<th>Safari</th>
</tr>
</thead>
<tbody><tr>
<th scope="row">Basic support 
</th>
<td class="bc-supports-yes"> 56</td>
<td class="bc-supports-yes"> 15</td>
<td class="bc-supports-yes"> 22</td>
<td> ? </td>
<td class="bc-supports-yes bc-has-history"> 43
<dl>
<dt class="bc-supports-yes bc-supports"> 43
</dt>
<dd> Promise based version.</dd>
<dt class="bc-supports-no bc-supports">37 — 43
</dt>

</dl>
</td>
<td> ? </td>
</tr></tbody>
</table>
<table class="bc-table bc-table-web">
<thead>
<tr class="bc-platforms">
<th></th>
<th colspan="7">Mobile</th>
</tr>
<tr class="bc-browsers">
<th></th>
<th>Android webview</th>
<th>Chrome for Android</th>
<th>Edge Mobile</th>
<th>Firefox for Android</th>
<th>Opera for Android</th>
<th>iOS Safari</th>
<th>Samsung Internet</th>
</tr>
</thead>
<tbody><tr>
<th scope="row">Basic support 
</th>
<td class="bc-supports-yes"> 56</td>
<td class="bc-supports-yes"> 56</td>
<td class="bc-supports-yes"> Yes</td>
<td class="bc-supports-yes"> 44</td>
<td class="bc-supports-yes bc-has-history"> 43
<dl>
<dt class="bc-supports-yes bc-supports"> 43
</dt>
<dd> Promise based version.</dd>
<dt class="bc-supports-no bc-supports">37 — 43
</dt>

</dl>
</td>
<td> ? </td>
<td class="bc-supports-yes"> 6.0</td>
</tr></tbody>
</table>
</div>  <h2 id="See_also">See also</h2> <ul> <li>Use the newer <code><a href="https://developer.mozilla.org/en-US/docs/Web/Events/track">track</a></code> event, its type <a href="../rtctrackevent"><code>RTCTrackEvent</code></a>, and the <a href="ontrack"><code>RTCPeerConnection.ontrack</code></a> event handler property instead of this.</li> <li>The <code><a href="https://developer.mozilla.org/en-US/docs/Web/Events/addstream">addstream</a></code> event and its type, <a href="https://developer.mozilla.org/en-US/docs/Web/API/MediaStreamEvent"><code>MediaStreamEvent</code></a>.</li> </ul><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/RTCPeerConnection/onaddstream$edit" class="_attribution-link">Edit this page on MDN</a>
  </p>
</div>
<div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2018 Mozilla Developer Network and individual contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/RTCPeerConnection/onaddstream" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/RTCPeerConnection/onaddstream</a>
  </p>
</div>
