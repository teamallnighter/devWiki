<h1>RTCIceTransport.onselectedcandidatepairchange</h1> <p>The <a href="../rtcicetransport"><code>RTCIceTransport</code></a> interface's <code>onselectedcandidatepairchange</code> event handler specifies a function to be called to handle the <code><a href="https://developer.mozilla.org/en-US/docs/Web/Events/selectedcandidatepairchange">selectedcandidatepairchange</a></code> event, which is fired when the ICE agent selects a new candidate pair to be used for the connection.</p> <h2 id="Syntax">Syntax</h2> <pre class="syntaxbox"><em>RTCIceTransport</em>.onselectedcandidatepairchange = <em>candidatePairHandler</em>;
</pre> <h3 id="Value">Value</h3> <p>This propoerty should be set to reference an event handler function to be called by the ICE agent when it discovers a new candidate pair that the <a href="../rtcicetransport"><code>RTCIceTransport</code></a> will be using for communication with the remote peer. This event will occur at least once, and may occur more than once if the ICE agent continues to identify candidate pairs that will work better, more closely match the requested parameters, and so forth.</p> <p>The event handler can determine the current state by calling the transport's <a href="getselectedcandidatepair"><code>getSelectedCandidatePair()</code></a> method, which returns a <a href="../rtcicecandidatepair"><code>RTCIceCandidatePair</code></a> whose <a href="../rtcicecandidatepair/local"><code>RTCIceCandidatePair.local</code></a> and <a href="https://developer.mozilla.org/en-US/docs/Web/API/RTCIceCandidatePair/global"><code>RTCIceCandidatePair.global</code></a> properties specify <a href="../rtcicecandidate"><code>RTCIceCandidate</code></a> objects describing the local and remote candidates that are currently being used.</p> <h2 id="Example">Example</h2> <p>In this example, an event handler for <code><a href="https://developer.mozilla.org/en-US/docs/Web/Events/selectedcandidatepairchange">selectedcandidatepairchange</a></code> is set up to update an on-screen display showing the protocol used by the currently selected candidate pair.</p> <pre data-language="js">var iceTransport = pc.getSenders()[0].transport.transport;
var localProto = document.getElementById("local-protocol");
var remoteProto = document.getElementById("remote-protocol");

iceTransport.onselectedcandidatepairchange = function(event) {
  var pair = iceTransport.getSelectedCandidatePair();
  localProtocol.innerText = pair.local.protocol.toUpperCase();
  remoteProtocol.innerText = pair.remote.protocol.toUpperCase();
}
</pre> <h2 id="Specifications">Specifications</h2> <div class="_table"><table class="standard-table"> <thead> <tr> <th scope="col">Specification</th> <th scope="col">Status</th> <th scope="col">Comment</th> </tr> </thead> <tbody> <tr> <td><a href="https://w3c.github.io/webrtc-pc/#dom-rtcicetransport-onselectedcandidatepairchange" hreflang="en">WebRTC 1.0: Real-time Communication Between Browsers<br><small>The definition of 'RTCIceTransport.onselectedcandidatepairchange' in that specification.</small></a></td> <td><span class="spec-CR">Candidate Recommendation</span></td> <td>Initial specification.</td> </tr> </tbody> </table></div> <h2 id="Browser_compatibility">Browser compatibility<a href="https://github.com/mdn/browser-compat-data" class="bc-github-link">Update compatibility data on GitHub</a>
</h2>  <div class="_table">
<table class="bc-table bc-table-web">
<thead>
<tr class="bc-platforms">
<th></th>
<th colspan="6">Desktop</th>
</tr>
<tr class="bc-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Internet Explorer</th>
<th>Opera</th>
<th>Safari</th>
</tr>
</thead>
<tbody><tr>
<th scope="row">Basic support</th>
<td class="bc-supports-no"> No</td>
<td class="bc-supports-no"> No</td>
<td class="bc-supports-no"> No</td>
<td class="bc-supports-no"> No</td>
<td class="bc-supports-no"> No</td>
<td class="bc-supports-no"> No</td>
</tr></tbody>
</table>
<table class="bc-table bc-table-web">
<thead>
<tr class="bc-platforms">
<th></th>
<th colspan="7">Mobile</th>
</tr>
<tr class="bc-browsers">
<th></th>
<th>Android webview</th>
<th>Chrome for Android</th>
<th>Edge Mobile</th>
<th>Firefox for Android</th>
<th>Opera for Android</th>
<th>iOS Safari</th>
<th>Samsung Internet</th>
</tr>
</thead>
<tbody><tr>
<th scope="row">Basic support</th>
<td class="bc-supports-no"> No</td>
<td class="bc-supports-no"> No</td>
<td> ? </td>
<td class="bc-supports-no"> No</td>
<td class="bc-supports-no"> No</td>
<td class="bc-supports-no"> No</td>
<td class="bc-supports-no"> No</td>
</tr></tbody>
</table>
</div> <h2 id="See_also">See also</h2> <ul> <li>The <code><a href="https://developer.mozilla.org/en-US/docs/Web/Events/selectedcandidatepair">selectedcandidatepair</a></code> event and its type, <a href="../event"><code>Event</code></a>.</li> <li>The other event handlers for <code>RTCIceTransport</code>: <a href="onstatechange"><code>onstatechange</code></a> and<a href="ongatheringstatechange"><code>ongatheringstatechange</code></a>
</li> </ul><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/RTCIceTransport/onselectedcandidatepairchange$edit" class="_attribution-link">Edit this page on MDN</a>
  </p>
</div>
<div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2018 Mozilla Developer Network and individual contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/RTCIceTransport/onselectedcandidatepairchange" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/RTCIceTransport/onselectedcandidatepairchange</a>
  </p>
</div>
