<h1>RTCIceCandidate.ip</h1> <p>The <strong><a href="../rtcicecandidate"><code>RTCIceCandidate</code></a></strong> interface's read-only <code>ip</code> property is a string providing the address of the device which is the source of the candidate. <code>ip</code> is <code>null</code> by default if not otherwise specified.</p> <p>The <code>ip</code> field's value is set when the <a href="rtcicecandidate"><code>RTCIceCandidate()</code></a> constructor is used. You can't specify the <code>ip</code> in the options object, but the address is automatically extracted from the <a href="../rtcicecandidateinit/candidate"><code>candidate</code></a> a-line, if it's formatted properly.</p> <h2 id="Syntax">Syntax</h2> <pre class="syntaxbox">var <em>address</em> = <em>RTCIceCandidate</em>.ip;</pre> <h3 id="Value">Value</h3> <p>A <a href="../domstring"><code>DOMString</code></a> providing the IP address from which the candidate comes.</p> <div class="note"> <p><strong>Note:</strong> If <code>port</code> is <code>null</code> — and <code>port</code> is supported by the <a href="https://developer.mozilla.org/en-US/docs/Glossary/user_agent">user agent</a> — passing the candidate to <a href="../rtcpeerconnection/addicecandidate"><code>addIceCandidate()</code></a> will fail, throwing an <code>OperationError</code> exception.</p> </div> <h2 id="Security_notes">Security notes</h2> <p>It's important to note here that although WebRTC does not require the two peers on an <a href="../rtcpeerconnection"><code>RTCPeerConnection</code></a> to know one another's true IP addresses, the <code>ip</code> property on <code>RTCIceCandidate</code> <em>can</em> expose more information about the source of the remote peer than the user expects. The IP address can be used to derive information about the remote device's location, network topology, and so forth. It can also be used for fingerprinting purposes.</p> <p>The candidate IP addresses are <em>always</em> exposed to the application through <code>ip</code>, and unsavory applications can in turn potentially reveal the address to the user. This can occur without the remote peer's consent.</p> <p>Applications being built with user privacy and security in mind can choose to limit the permitted candidates to relay canddiates only. Doing so prevents the remote user's address from being exposed, but reduces the pool of available candidates to choose from. To do this, configure the ICE agent's ICE transport policy using <a href="../rtcconfiguration"><code>RTCConfiguration</code></a>, like this:</p> <pre data-language="js">var rtcConfig = {
  iceServers: [
    {
      urls: "turn:myturn.server.ip",
      username: "username",
      credential: "password"
    }
  ],
  iceTransportPolicy: "relay"
}
</pre> <p>By setting <a href="https://developer.mozilla.org/en-US/docs/Web/API/RTCConfiguration/iceTransportPolicy"><code>RTCConfiguration.iceTransportPolicy</code></a> to <code>"relay"</code>, any host candidates (candidates where the IP address is the peer's own IP address) are left out of the pool of candidates, as are any other candidates which aren't relay candidates.</p> <h2 id="Usage_notes">Usage notes</h2> <p>Consider this <a href="https://developer.mozilla.org/en-US/docs/Glossary/SDP">SDP</a> attribute line (a-line) which describes an ICE candidate:</p> <pre>a=candidate:4234997325 1 udp 2043278322 192.168.0.56 44323 typ host</pre> <p>The fifth field, <code>"192.168.0.56"</code> is the IP address in this candidate's a-line string.</p> <h2 id="Example">Example</h2> <p>This code snippet uses the value of <code>ip</code> to implement an IP address based ban feature.</p> <pre data-language="js">if (ipBanList.includes(candidate.ip)) {
  rejectCandidate(candidate);
} else {
  acceptCandidate(candidate);
}
</pre> <h2 id="Specifications">Specifications</h2> <div class="_table"><table class="standard-table"> <tbody> <tr> <th scope="col">Specification</th> <th scope="col">Status</th> <th scope="col">Comment</th> </tr> <tr> <td><a href="https://w3c.github.io/webrtc-pc/#dom-rtcicecandidate-ip" hreflang="en">WebRTC 1.0: Real-time Communication Between Browsers<br><small>The definition of 'RTCIceCandidate.ip' in that specification.</small></a></td> <td><span class="spec-CR">Candidate Recommendation</span></td> <td>Initial definition.</td> </tr> </tbody> </table></div> <h2 id="Browser_compatibility">Browser compatibility<a href="https://github.com/mdn/browser-compat-data" class="bc-github-link">Update compatibility data on GitHub</a>
</h2>   <div class="_table">
<table class="bc-table bc-table-web">
<thead>
<tr class="bc-platforms">
<th></th>
<th colspan="6">Desktop</th>
</tr>
<tr class="bc-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Internet Explorer</th>
<th>Opera</th>
<th>Safari</th>
</tr>
</thead>
<tbody><tr>
<th scope="row">Basic support</th>
<td class="bc-supports-no"> No</td>
<td class="bc-supports-yes"> Yes</td>
<td class="bc-supports-no"> No</td>
<td class="bc-supports-no"> No</td>
<td class="bc-supports-no"> No</td>
<td> ? </td>
</tr></tbody>
</table>
<table class="bc-table bc-table-web">
<thead>
<tr class="bc-platforms">
<th></th>
<th colspan="7">Mobile</th>
</tr>
<tr class="bc-browsers">
<th></th>
<th>Android webview</th>
<th>Chrome for Android</th>
<th>Edge Mobile</th>
<th>Firefox for Android</th>
<th>Opera for Android</th>
<th>iOS Safari</th>
<th>Samsung Internet</th>
</tr>
</thead>
<tbody><tr>
<th scope="row">Basic support</th>
<td class="bc-supports-no"> No</td>
<td class="bc-supports-no"> No</td>
<td class="bc-supports-yes"> Yes</td>
<td class="bc-supports-no"> No</td>
<td class="bc-supports-no"> No</td>
<td> ? </td>
<td class="bc-supports-yes"> Yes</td>
</tr></tbody>
</table>
</div><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/RTCIceCandidate/ip$edit" class="_attribution-link">Edit this page on MDN</a>
  </p>
</div>
<div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2018 Mozilla Developer Network and individual contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/RTCIceCandidate/ip" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/RTCIceCandidate/ip</a>
  </p>
</div>
