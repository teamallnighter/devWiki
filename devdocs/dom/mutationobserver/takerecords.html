<h1>MutationObserver.takeRecords</h1> <p>The <a href="../mutationobserver"><code>MutationObserver</code></a> method <code><strong>takeRecords()</strong></code> returns a list of all matching DOM changes that have been detected but not yet processed by the observer's callback function, leaving the mutation queue empty. The most common use case for this is to immediately fetch all pending mutation records immediately prior to disconnecting the observer, so that any pending mutations can be processed when stopping down the observer.</p>  <h2 id="Syntax">Syntax</h2> <pre class="syntaxbox"><em>mutationRecords</em> = <em>mutationObserver</em>.takeRecords()
</pre> <h3 id="Parameters">Parameters</h3> <p>None.</p> <h3 id="Return_value">Return value</h3> <p>An array <a href="../mutationrecord"><code>MutationRecord</code></a> objects, each describing one change applied to the portion of the document's DOM tree.</p> <div class="note"> <p><strong>Note:</strong> The queue of mutations which have occurred but not been delivered to your callback is left empty after calling <code>takeRecords()</code>.</p> </div> <h2 id="Example">Example</h2> <p>In this example, we demonstrate how to handle any undelivered <a href="../mutationrecord"><code>MutationRecord</code></a>s by calling <code>takeRecords()</code> just before disconnecting the observer.</p> <pre data-language="js">var targetNode = document.querySelector("#someElement");
var observerOptions = {
  childList: true,
  attributes: true
}

var observer = new MutationObserver(callback);
observer.observe(targetNode, observerOptions);

/* ...later, when it's time to stop observing... */

/* handle any still-pending mutations */

var mutations = observer.takeRecords();

if (mutations) {
  callback(mutations);
}

observer.disconnect();
</pre> <p>The code in lines 12-17 fetches any unprocessed mutation records and invokes the callback with that list of records so that they can be processed. This is done immediately prior to calling <a href="disconnect"><code>disconnect()</code></a> to stop observing the DOM.</p> <h2 name="Specifications" id="Specifications">Specifications</h2> <div class="_table"><table class="standard-table"> <thead> <tr> <th scope="col">Specification</th> <th scope="col">Status</th> <th scope="col">Comment</th> </tr> </thead> <tbody> <tr> <td><a href="https://dom.spec.whatwg.org/#dom-mutationobserver-takerecords" hreflang="en">DOM<br><small>The definition of 'MutationObserver.takeRecords()' in that specification.</small></a></td> <td><span class="spec-Living">Living Standard</span></td> <td> </td> </tr> </tbody> </table></div> <h2 id="Browser_compatibility">Browser compatibility<a href="https://github.com/mdn/browser-compat-data" class="bc-github-link">Update compatibility data on GitHub</a>
</h2>  <div class="_table">
<table class="bc-table bc-table-web">
<thead>
<tr class="bc-platforms">
<th></th>
<th colspan="6">Desktop</th>
</tr>
<tr class="bc-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Internet Explorer</th>
<th>Opera</th>
<th>Safari</th>
</tr>
</thead>
<tbody><tr>
<th scope="row">Basic support</th>
<td class="bc-supports-yes"> 18</td>
<td class="bc-supports-yes"> Yes</td>
<td class="bc-supports-yes"> 14</td>
<td class="bc-supports-yes"> 11</td>
<td class="bc-supports-yes"> 15</td>
<td class="bc-supports-yes"> 6</td>
</tr></tbody>
</table>
<table class="bc-table bc-table-web">
<thead>
<tr class="bc-platforms">
<th></th>
<th colspan="7">Mobile</th>
</tr>
<tr class="bc-browsers">
<th></th>
<th>Android webview</th>
<th>Chrome for Android</th>
<th>Edge Mobile</th>
<th>Firefox for Android</th>
<th>Opera for Android</th>
<th>iOS Safari</th>
<th>Samsung Internet</th>
</tr>
</thead>
<tbody><tr>
<th scope="row">Basic support</th>
<td class="bc-supports-yes"> Yes</td>
<td class="bc-supports-yes"> 18</td>
<td class="bc-supports-yes"> Yes</td>
<td class="bc-supports-yes"> 14</td>
<td class="bc-supports-yes"> 14</td>
<td class="bc-supports-yes"> 6</td>
<td class="bc-supports-yes"> Yes</td>
</tr></tbody>
</table>
</div><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/MutationObserver/takeRecords$edit" class="_attribution-link">Edit this page on MDN</a>
  </p>
</div>
<div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2018 Mozilla Developer Network and individual contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/MutationObserver/takeRecords" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/MutationObserver/takeRecords</a>
  </p>
</div>
