<h1>CanvasRenderingContext2D.putImageData</h1> <p>The <code><strong>CanvasRenderingContext2D</strong></code><code>.putImageData()</code> method of the Canvas 2D API paints data from the given <a href="../imagedata"><code>ImageData</code></a> object onto the canvas. If a dirty rectangle is provided, only the pixels from that rectangle are painted. This method is not affected by the canvas transformation matrix.</p> <div class="note"> <p><strong>Note:</strong> Image data can be retrieved from a canvas using the <a href="getimagedata"><code>getImageData()</code></a> method.</p> </div> <p>You can find more information about <code>putImageData()</code> and general manipulation of canvas contents in the article <a href="../canvas_api/tutorial/pixel_manipulation_with_canvas">Pixel manipulation with canvas</a>.</p> <h2 id="Syntax">Syntax</h2> <pre class="syntaxbox">void <em>ctx</em>.putImageData(<em>imageData</em>, <em>dx</em>, <em>dy</em>);
void <em>ctx</em>.putImageData(<em>imageData</em>, <em>dx</em>, <em>dy</em>, <em>dirtyX</em>, <em>dirtyY</em>, <em>dirtyWidth</em>, <em>dirtyHeight</em>);
</pre> <h3 id="Parameters">Parameters</h3> <dl> <dt><code>imageData</code></dt> <dd>An <a href="../imagedata"><code>ImageData</code></a> object containing the array of pixel values.</dd> <dt><code>dx</code></dt> <dd>Horizontal position (x coordinate) at which to place the image data in the destination canvas.</dd> <dt><code>dy</code></dt> <dd>Vertical position (y coordinate) at which to place the image data in the destination canvas.</dd> <dt>
<code>dirtyX</code> <span class="inlineIndicator optional optionalInline">Optional</span>
</dt> <dd>Horizontal position (x coordinate) of the top-left corner from which the image data will be extracted. Defaults to <code>0</code>.</dd> <dt>
<code>dirtyY</code> <span class="inlineIndicator optional optionalInline">Optional</span>
</dt> <dd>Vertical position (y coordinate) of the top-left corner from which the image data will be extracted. Defaults to <code>0</code>.</dd> <dt>
<code>dirtyWidth</code> <span class="inlineIndicator optional optionalInline">Optional</span>
</dt> <dd>Width of the rectangle to be painted. Defaults to the width of the image data.</dd> <dt>
<code>dirtyHeight</code> <span class="inlineIndicator optional optionalInline">Optional</span>
</dt> <dd>Height of the rectangle to be painted. Defaults to the height of the image data.</dd> </dl> <h3 id="Errors_thrown">Errors thrown</h3> <dl> <dt><code>NotSupportedError</code></dt> <dd>Thrown if any of the arguments is infinite.</dd> <dt><code>InvalidStateError</code></dt> <dd>Thrown if the <code>ImageData</code> object's data has been detached.</dd> </dl> <h2 id="Examples">Examples</h2> <h3 id="Understanding_putImageData">Understanding putImageData</h3> <p>To understand what this algorithm does under the hood, here is an implementation on top of <a href="fillrect"><code>CanvasRenderingContext2D.fillRect()</code></a>.</p> <h4 id="HTML">HTML</h4> <pre data-language="html">&lt;canvas id="canvas"&gt;&lt;/canvas&gt;
</pre> <h4 id="JavaScript">JavaScript</h4> <pre data-language="js">var canvas = document.getElementById('canvas');
var ctx = canvas.getContext('2d');

function putImageData(ctx, imageData, dx, dy,
    dirtyX, dirtyY, dirtyWidth, dirtyHeight) {
  var data = imageData.data;
  var height = imageData.height;
  var width = imageData.width;
  dirtyX = dirtyX || 0;
  dirtyY = dirtyY || 0;
  dirtyWidth = dirtyWidth !== undefined? dirtyWidth: width;
  dirtyHeight = dirtyHeight !== undefined? dirtyHeight: height;
  var limitBottom = dirtyY + dirtyHeight;
  var limitRight = dirtyX + dirtyWidth;
  for (var y = dirtyY; y &lt; limitBottom; y++) {
    for (var x = dirtyX; x &lt; limitRight; x++) {
      var pos = y * width + x;
      ctx.fillStyle = 'rgba(' + data[pos*4+0]
                        + ',' + data[pos*4+1]
                        + ',' + data[pos*4+2]
                        + ',' + (data[pos*4+3]/255) + ')';
      ctx.fillRect(x + dx, y + dy, 1, 1);
    }
  }
}

// Draw content onto the canvas
ctx.fillRect(0, 0, 100, 100);
// Create an ImageData object from it
var imagedata = ctx.getImageData(0, 0, 100, 100);
// use the putImageData function that illustrates how putImageData works
putImageData(ctx, imagedata, 150, 0, 50, 50, 25, 25);
</pre> <h4 id="Result">Result</h4> <p><iframe src="https://mdn.mozillademos.org/en-US/docs/Web/API/CanvasRenderingContext2D/putImageData%24samples/Understanding_putImageData?revision=1437339" height="180" id="frame_Understanding_putImageData" width="700" frameborder="0" class="live-sample-frame sample-code-frame"></iframe></p> <h2 id="Specifications">Specifications</h2> <div class="_table"><table class="standard-table"> <tbody> <tr> <th scope="col">Specification</th> <th scope="col">Status</th> <th scope="col">Comment</th> </tr> <tr> <td><a href="https://html.spec.whatwg.org/multipage/scripting.html#dom-context-2d-putimagedata" hreflang="en">HTML Living Standard<br><small>The definition of 'CanvasRenderingContext2D.putImageData' in that specification.</small></a></td> <td><span class="spec-Living">Living Standard</span></td> <td> </td> </tr> </tbody> </table></div> <h2 id="Browser_compatibility">Browser compatibility<a href="https://github.com/mdn/browser-compat-data" class="bc-github-link">Update compatibility data on GitHub</a>
</h2>  <div class="_table">
<table class="bc-table bc-table-web">
<thead>
<tr class="bc-platforms">
<th></th>
<th colspan="6">Desktop</th>
</tr>
<tr class="bc-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Internet Explorer</th>
<th>Opera</th>
<th>Safari</th>
</tr>
</thead>
<tbody><tr>
<th scope="row">Basic support</th>
<td class="bc-supports-yes"> Yes</td>
<td class="bc-supports-yes"> 12</td>
<td class="bc-supports-yes"> Yes</td>
<td class="bc-supports-yes"> Yes</td>
<td class="bc-supports-yes"> Yes</td>
<td class="bc-supports-yes"> Yes</td>
</tr></tbody>
</table>
<table class="bc-table bc-table-web">
<thead>
<tr class="bc-platforms">
<th></th>
<th colspan="7">Mobile</th>
</tr>
<tr class="bc-browsers">
<th></th>
<th>Android webview</th>
<th>Chrome for Android</th>
<th>Edge Mobile</th>
<th>Firefox for Android</th>
<th>Opera for Android</th>
<th>iOS Safari</th>
<th>Samsung Internet</th>
</tr>
</thead>
<tbody><tr>
<th scope="row">Basic support</th>
<td class="bc-supports-yes"> Yes</td>
<td class="bc-supports-yes"> Yes</td>
<td class="bc-supports-yes"> Yes</td>
<td class="bc-supports-yes"> Yes</td>
<td class="bc-supports-yes"> Yes</td>
<td class="bc-supports-yes"> Yes</td>
<td class="bc-supports-yes"> Yes</td>
</tr></tbody>
</table>
</div> <h3 id="Gecko-specific_notes">Gecko-specific notes</h3> <ul> <li>Starting in Gecko 10.0 (Firefox 10.0 / Thunderbird 10.0 / SeaMonkey 2.7), non-finite values to any of these parameters cause the call to <code>putImageData()</code> to be silently ignored, rather than throwing an exception.</li> <li>To comply with the specification, starting with Gecko 16.0 (Firefox 16.0 / Thunderbird 16.0 / SeaMonkey 2.13), a call with an invalid number of arguments (only 3 or 7 arguments are valid), will now throw an error (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=762657">bug 762657</a>).</li> </ul> <h2 id="See_also">See also</h2> <ul> <li>The interface defining this method: <a href="../canvasrenderingcontext2d"><code>CanvasRenderingContext2D</code></a>
</li> <li>
<a href="../imagedata"><code>ImageData</code></a> object</li> <li><a href="getimagedata"><code>CanvasRenderingContext2D.getImageData()</code></a></li> <li><a href="../canvas_api/tutorial/pixel_manipulation_with_canvas">Pixel manipulation with canvas</a></li> </ul><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/putImageData$edit" class="_attribution-link">Edit this page on MDN</a>
  </p>
</div>
<div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2018 Mozilla Developer Network and individual contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/putImageData" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/putImageData</a>
  </p>
</div>
