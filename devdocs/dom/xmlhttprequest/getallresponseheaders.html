<h1>XMLHttpRequest.getAllResponseHeaders</h1> <p>The <a href="../xmlhttprequest"><code>XMLHttpRequest</code></a> method <code><strong>getAllResponseHeaders()</strong></code> returns all the response headers, separated by <a href="https://developer.mozilla.org/en-US/docs/Glossary/CRLF">CRLF</a>, as a string, or returns <code>null</code> if no response has been received. If a network error happened, an empty string is returned.</p> <div class="note"> <p><strong>Note:</strong> For multipart requests, this returns the headers from the <em>current</em> part of the request, not from the original channel.</p> </div> <h2 id="Syntax">Syntax</h2> <pre class="syntaxbox">var headers = <em>XMLHttpRequest</em>.getAllResponseHeaders();</pre> <h3 id="Parameters">Parameters</h3> <p>None.</p> <h3 id="Return_value">Return value</h3> <p>A <a href="../bytestring"><code>ByteString</code></a> representing all of the response's headers (except those whose field name is <code>Set-Cookie</code> or <code>Set-Cookie2</code>) separated by <a href="https://developer.mozilla.org/en-US/docs/Glossary/CRLF">CRLF</a>, or <code>null</code> if no response has been received. If a network error happened, an empty string is returned.</p> <p>An example of what a raw header string looks like:</p> <pre><span class="punctuation token">date: Fri, 08 Dec 2017 21:04:30 GMT\r\n
content-encoding: gzip\r\n
x-content-type-options: nosniff\r\n
server: meinheld/0.6.1\r\n
x-frame-options: DENY\r\n
content-type: text/html; charset=utf-8\r\n
connection: keep-alive\r\n
strict-transport-security: max-age=63072000\r\n
vary: Cookie, Accept-Encoding\r\n
content-length: 6502\r\n
x-xss-protection: 1; mode=block\r\n</span></pre> <p>Each line is terminated by both carriage return and line feed characters (<code>"\r\n"</code>). These are essentially delimiters separating each of the headers.</p> <div class="blockIndicator note"> <p><strong>Note</strong>: In modern browsers, the header names are returned in all lower case, as per the latest spec.</p> </div> <h2 id="Example">Example</h2> <p>This example examines the headers in the request's <code><a href="https://developer.mozilla.org/en-US/docs/Web/Events/readystatechange">readystatechange</a></code> event handler, <a href="onreadystatechange"><code>XMLHttpRequest.onreadystatechange</code></a>. The code shows how to obtain the raw header string, as well as how to convert it into an array of individual headers and then how to take that array and create a mapping of header names to their values.</p> <pre data-language="html">var request = new XMLHttpRequest();
request.open("GET", "foo.txt", true);
request.send();

request.onreadystatechange = function() {
  if(this.readyState == this.HEADERS_RECEIVED) {

    // Get the raw header string
    var headers = request.getAllResponseHeaders();

    // Convert the header string into an array
    // of individual headers
    var arr = headers.trim().split(/[\r\n]+/);

    // Create a map of header names to values
    var headerMap = {};
    arr.forEach(function (line) {
      var parts = line.split(': ');
      var header = parts.shift();
      var value = parts.join(': ');
      headerMap[header] = value;
    });
  }
}</pre> <p>Once this is done, you can, for example:</p> <pre data-language="js">var contentType = headerMap["content-type"];</pre> <p>This obtains the value of the <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Type">Content-Type</a> header into the variable <code>contentType</code>.</p> <h2 id="Specifications">Specifications</h2> <div class="_table"><table class="standard-table"> <tbody> <tr> <th scope="col">Specification</th> <th scope="col">Status</th> <th scope="col">Comment</th> </tr> <tr> <td><a href="https://xhr.spec.whatwg.org/#the-getAllResponseHeaders()-method" hreflang="en">XMLHttpRequest<br><small>The definition of 'getAllResponseHeaders()' in that specification.</small></a></td> <td><span class="spec-Living">Living Standard</span></td> <td>WHATWG living standard</td> </tr> </tbody> </table></div> <h2 id="Browser_compatibility">Browser compatibility<a href="https://github.com/mdn/browser-compat-data" class="bc-github-link">Update compatibility data on GitHub</a>
</h2>  <div class="_table">
<table class="bc-table bc-table-web">
<thead>
<tr class="bc-platforms">
<th></th>
<th colspan="6">Desktop</th>
</tr>
<tr class="bc-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Internet Explorer</th>
<th>Opera</th>
<th>Safari</th>
</tr>
</thead>
<tbody><tr>
<th scope="row">Basic support</th>
<td class="bc-supports-yes"> 1</td>
<td class="bc-supports-yes"> 12</td>
<td class="bc-supports-yes bc-has-history"> 4
<dl>
<dt class="bc-supports-yes bc-supports"> 4
</dt>
<dd> Starting from Firefox 49, empty headers are returned as empty strings in case the preference <code>network.http.keep_empty_response_headers_as_empty_string</code> is set to <code>true</code>, defaulting to <code>false</code>. Before Firefox 49 empty headers had been ignored. Since Firefox 50 the preference defaults to <code>true</code>.</dd>
</dl>
</td>
<td class="bc-supports-yes bc-has-history"> 7
<dl>
<dt class="bc-supports-yes bc-supports"> 7
</dt>

<dt class="bc-supports-yes bc-supports"> 5
</dt>
<dd> Implemented via <code>ActiveXObject</code>
</dd>
</dl>
</td>
<td class="bc-supports-yes"> Yes</td>
<td class="bc-supports-yes"> 1.2</td>
</tr></tbody>
</table>
<table class="bc-table bc-table-web">
<thead>
<tr class="bc-platforms">
<th></th>
<th colspan="7">Mobile</th>
</tr>
<tr class="bc-browsers">
<th></th>
<th>Android webview</th>
<th>Chrome for Android</th>
<th>Edge Mobile</th>
<th>Firefox for Android</th>
<th>Opera for Android</th>
<th>iOS Safari</th>
<th>Samsung Internet</th>
</tr>
</thead>
<tbody><tr>
<th scope="row">Basic support</th>
<td class="bc-supports-yes"> Yes</td>
<td class="bc-supports-yes"> Yes</td>
<td class="bc-supports-yes"> Yes</td>
<td class="bc-supports-yes bc-has-history"> 4
<dl>
<dt class="bc-supports-yes bc-supports"> 4
</dt>
<dd> Starting from Firefox 49, empty headers are returned as empty strings in case the preference <code>network.http.keep_empty_response_headers_as_empty_string</code> is set to <code>true</code>, defaulting to <code>false</code>. Before Firefox 49 empty headers had been ignored. Since Firefox 50 the preference defaults to <code>true</code>.</dd>
</dl>
</td>
<td class="bc-supports-yes"> Yes</td>
<td> ? </td>
<td class="bc-supports-yes"> Yes</td>
</tr></tbody>
</table>
</div> <h2 id="See_also">See also</h2> <ul> <li><a href="using_xmlhttprequest">Using XMLHttpRequest</a></li> <li>Setting request headers: <a href="setrequestheader"><code>setRequestHeader()</code></a>
</li> </ul><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/getAllResponseHeaders$edit" class="_attribution-link">Edit this page on MDN</a>
  </p>
</div>
<div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2018 Mozilla Developer Network and individual contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/getAllResponseHeaders" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/getAllResponseHeaders</a>
  </p>
</div>
