
<h2 class="-three-column" id="components">Components</h2>

<h3 class="-prime" id="components-1">Components</h3>

<div class="language-jsx -setup highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nx">React</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react</span><span class="dl">'</span>
<span class="k">import</span> <span class="nx">ReactDOM</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react-dom</span><span class="dl">'</span>
</code></pre></div></div>

<div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nx">Hello</span> <span class="kd">extends</span> <span class="nx">React</span><span class="p">.</span><span class="nx">Component</span> <span class="p">{</span>
  <span class="nx">render</span> <span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">&lt;</span><span class="nt">div</span> <span class="na">className=</span><span class="s1">'message-box'</span><span class="p">&gt;</span>
      Hello <span class="si">{</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">name</span><span class="si">}</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">el</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">body</span>
<span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">render</span><span class="p">(&lt;</span><span class="nc">Hello</span> <span class="na">name=</span><span class="s1">'John'</span> <span class="p">/&gt;,</span> <span class="nx">el</span><span class="p">)</span>
</code></pre></div></div>

<p>Use the <a href="http://jsfiddle.net/reactjs/69z2wepo/">React.js jsfiddle</a> to start hacking. (or the unofficial <a href="http://jsbin.com/yafixat/edit?js,output">jsbin</a>)</p>

<h3 class="-prime" id="import-multiple-exports">Import multiple exports</h3>

<div class="language-jsx -setup highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nx">React</span><span class="p">,</span> <span class="p">{</span><span class="nx">Component</span><span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react</span><span class="dl">'</span>
<span class="k">import</span> <span class="nx">ReactDOM</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react-dom</span><span class="dl">'</span>
</code></pre></div></div>

<div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nx">Hello</span> <span class="kd">extends</span> <span class="nx">Component</span> <span class="p">{</span>
  <span class="p">...</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="properties">Properties</h3>

<div class="language-html -setup highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;Video</span> <span class="na">fullscreen=</span><span class="s">{true}</span> <span class="na">autoplay=</span><span class="s">{false}</span> <span class="nt">/&gt;</span>
</code></pre></div></div>

<div data-line="2,3" class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">render</span> <span class="p">()</span> <span class="p">{</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">fullscreen</span>
  <span class="kd">const</span> <span class="p">{</span> <span class="nx">fullscreen</span><span class="p">,</span> <span class="nx">autoplay</span> <span class="p">}</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">props</span>
  <span class="err">···</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Use <code class="highlighter-rouge">this.props</code> to access properties passed to the component.</p>

<p>See: <a href="https://reactjs.org/docs/tutorial.html#using-props">Properties</a></p>

<h3 id="states">States</h3>

<div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">constructor</span><span class="p">(</span><span class="nx">props</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">super</span><span class="p">(</span><span class="nx">props</span><span class="p">)</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">state</span> <span class="o">=</span> <span class="p">{</span> <span class="na">username</span><span class="p">:</span> <span class="kc">undefined</span> <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">({</span> <span class="na">username</span><span class="p">:</span> <span class="dl">'</span><span class="s1">rstacruz</span><span class="dl">'</span> <span class="p">})</span>
</code></pre></div></div>

<div data-line="2,3" class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">render</span> <span class="p">()</span> <span class="p">{</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">username</span>
  <span class="kd">const</span> <span class="p">{</span> <span class="nx">username</span> <span class="p">}</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">state</span>
  <span class="err">···</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Use states (<code class="highlighter-rouge">this.state</code>) to manage dynamic data.</p>

<p>With <a href="https://babeljs.io/">Babel</a> you can use <a href="https://github.com/tc39/proposal-class-fields">proposal-class-fields</a> and get rid of constructor</p>

<div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nx">Hello</span> <span class="kd">extends</span> <span class="nx">Component</span> <span class="p">{</span>
  <span class="nx">state</span> <span class="o">=</span> <span class="p">{</span> <span class="na">username</span><span class="p">:</span> <span class="kc">undefined</span> <span class="p">};</span>
  <span class="p">...</span>
<span class="p">}</span>
</code></pre></div></div>

<p>See: <a href="https://reactjs.org/docs/tutorial.html#reactive-state">States</a></p>

<h3 id="nesting">Nesting</h3>

<div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nx">Info</span> <span class="kd">extends</span> <span class="nx">Component</span> <span class="p">{</span>
  <span class="nx">render</span> <span class="p">()</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="p">{</span> <span class="nx">avatar</span><span class="p">,</span> <span class="nx">username</span> <span class="p">}</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">props</span>

    <span class="k">return</span> <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nc">UserAvatar</span> <span class="na">src=</span><span class="si">{</span><span class="nx">avatar</span><span class="si">}</span> <span class="p">/&gt;</span>
      <span class="p">&lt;</span><span class="nc">UserProfile</span> <span class="na">username=</span><span class="si">{</span><span class="nx">username</span><span class="si">}</span> <span class="p">/&gt;</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>
<p>As of React v16.2.0, fragments can be used to return multiple children without adding extra wrapping nodes to the DOM.</p>

<div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nx">React</span><span class="p">,</span> <span class="p">{</span>
  <span class="nx">Component</span><span class="p">,</span>
  <span class="nx">Fragment</span>
<span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react</span><span class="dl">'</span>

<span class="kd">class</span> <span class="nx">Info</span> <span class="kd">extends</span> <span class="nx">Component</span> <span class="p">{</span>
  <span class="nx">render</span> <span class="p">()</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="p">{</span> <span class="nx">avatar</span><span class="p">,</span> <span class="nx">username</span> <span class="p">}</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">props</span>

    <span class="k">return</span> <span class="p">(</span>
      <span class="p">&lt;</span><span class="nc">Fragment</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nc">UserAvatar</span> <span class="na">src=</span><span class="si">{</span><span class="nx">avatar</span><span class="si">}</span> <span class="p">/&gt;</span>
        <span class="p">&lt;</span><span class="nc">UserProfile</span> <span class="na">username=</span><span class="si">{</span><span class="nx">username</span><span class="si">}</span> <span class="p">/&gt;</span>
      <span class="p">&lt;/</span><span class="nc">Fragment</span><span class="p">&gt;</span>
    <span class="p">)</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p data-line="5,6,7,8,9,10">Nest components to separate concerns.</p>

<p>See: <a href="https://reactjs.org/docs/components-and-props.html#composing-components">Composing Components</a></p>

<h3 id="children">Children</h3>

<div data-line="2" class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&lt;</span><span class="nx">AlertBox</span><span class="o">&gt;</span>
  <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>You have pending notifications<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="err">/</span><span class="nc">AlertBox</span><span class="p">&gt;</span>
</code></pre></div></div>

<div data-line="4" class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nx">AlertBox</span> <span class="kd">extends</span> <span class="nx">Component</span> <span class="p">{</span>
  <span class="nx">render</span> <span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">&lt;</span><span class="nt">div</span> <span class="na">className=</span><span class="s1">'alert-box'</span><span class="p">&gt;</span>
      <span class="si">{</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">children</span><span class="si">}</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Children are passed as the <code class="highlighter-rouge">children</code> property.</p>

<h2 id="defaults">Defaults</h2>

<h3 id="setting-default-props">Setting default props</h3>

<div data-line="1" class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">Hello</span><span class="p">.</span><span class="nx">defaultProps</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">color</span><span class="p">:</span> <span class="dl">'</span><span class="s1">blue</span><span class="dl">'</span>
<span class="p">}</span>
</code></pre></div></div>

<p>See: <a href="https://reactjs.org/docs/react-component.html#defaultprops">defaultProps</a></p>

<h3 id="setting-default-state">Setting default state</h3>

<div data-line="4" class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nx">Hello</span> <span class="kd">extends</span> <span class="nx">Component</span> <span class="p">{</span>
  <span class="kd">constructor</span> <span class="p">(</span><span class="nx">props</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">super</span><span class="p">(</span><span class="nx">props</span><span class="p">)</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">state</span> <span class="o">=</span> <span class="p">{</span> <span class="na">visible</span><span class="p">:</span> <span class="kc">true</span> <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Set the default state in the <code class="highlighter-rouge">constructor()</code>.</p>

<p>And without constructor using <a href="https://babeljs.io/">Babel</a> with <a href="https://github.com/tc39/proposal-class-fields">proposal-class-fields</a>.</p>

<div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nx">Hello</span> <span class="kd">extends</span> <span class="nx">Component</span> <span class="p">{</span>
    <span class="nx">state</span> <span class="o">=</span> <span class="p">{</span> <span class="na">visible</span><span class="p">:</span> <span class="kc">true</span> <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p data-line="2">See: <a href="https://reactjs.org/docs/react-without-es6.html#setting-the-initial-state">Setting the default state</a></p>

<h2 class="-three-column" id="other-components">Other components</h2>

<h3 id="functional-components">Functional components</h3>

<div data-line="1" class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">MyComponent</span> <span class="p">({</span> <span class="nx">name</span> <span class="p">})</span> <span class="p">{</span>
  <span class="k">return</span> <span class="p">&lt;</span><span class="nt">div</span> <span class="na">className=</span><span class="s1">'message-box'</span><span class="p">&gt;</span>
    Hello <span class="si">{</span><span class="nx">name</span><span class="si">}</span>
  <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Functional components have no state. Also, their <code class="highlighter-rouge">props</code> are passed as the first parameter to a function.</p>

<p>See: <a href="https://reactjs.org/docs/components-and-props.html#functional-and-class-components">Function and Class Components</a></p>

<h3 id="pure-components">Pure components</h3>

<div data-line="3" class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nx">React</span><span class="p">,</span> <span class="p">{</span><span class="nx">PureComponent</span><span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react</span><span class="dl">'</span>

<span class="kd">class</span> <span class="nx">MessageBox</span> <span class="kd">extends</span> <span class="nx">PureComponent</span> <span class="p">{</span>
  <span class="err">···</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Performance-optimized version of <code class="highlighter-rouge">React.Component</code>. Doesn’t rerender if props/state hasn’t changed.</p>

<p>See: <a href="https://reactjs.org/docs/react-api.html#react.purecomponent">Pure components</a></p>

<h3 id="component-api">Component API</h3>

<div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">this</span><span class="p">.</span><span class="nx">forceUpdate</span><span class="p">()</span>
</code></pre></div></div>

<div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">({</span> <span class="p">...</span> <span class="p">})</span>
<span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">(</span><span class="nx">state</span> <span class="o">=&gt;</span> <span class="p">{</span> <span class="p">...</span> <span class="p">})</span>
</code></pre></div></div>

<div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">this</span><span class="p">.</span><span class="nx">state</span>
<span class="k">this</span><span class="p">.</span><span class="nx">props</span>
</code></pre></div></div>

<p>These methods and properties are available for <code class="highlighter-rouge">Component</code> instances.</p>

<p>See: <a href="http://facebook.github.io/react/docs/component-api.html">Component API</a></p>

<h2 class="-two-column" id="lifecycle">Lifecycle</h2>

<h3 id="mounting">Mounting</h3>

<table>
  <thead>
    <tr>
      <th>Method</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">constructor</code> <em>(props)</em></td>
      <td>Before rendering <a href="https://reactjs.org/docs/react-component.html#constructor">#</a></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">componentWillMount()</code></td>
      <td><em>Don’t use this</em> <a href="https://reactjs.org/docs/react-component.html#componentwillmount">#</a></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">render()</code></td>
      <td>Render  <a href="https://reactjs.org/docs/react-component.html#render">#</a></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">componentDidMount()</code></td>
      <td>After rendering (DOM available) <a href="https://reactjs.org/docs/react-component.html#componentdidmount">#</a></td>
    </tr>
  </tbody>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">componentWillUnmount()</code></td>
      <td>Before DOM removal <a href="https://reactjs.org/docs/react-component.html#componentwillunmount">#</a></td>
    </tr>
  </tbody>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">componentDidCatch()</code></td>
      <td>Catch errors (16+) <a href="https://reactjs.org/blog/2017/07/26/error-handling-in-react-16.html">#</a></td>
    </tr>
  </tbody>
</table>

<p>Set initial the state on <code class="highlighter-rouge">constructor()</code>.
Add DOM event handlers, timers (etc) on <code class="highlighter-rouge">componentDidMount()</code>, then remove them on <code class="highlighter-rouge">componentWillUnmount()</code>.</p>

<h3 id="updating">Updating</h3>

<table>
  <thead>
    <tr>
      <th>Method</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">componentDidUpdate</code> <em>(prevProps, prevState, snapshot)</em></td>
      <td>Use <code class="highlighter-rouge">setState()</code> here, but remember to compare props</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">shouldComponentUpdate</code> <em>(newProps, newState)</em></td>
      <td>Skips <code class="highlighter-rouge">render()</code> if returns false</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">render()</code></td>
      <td>Render</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">componentDidUpdate</code> <em>(prevProps, prevState)</em></td>
      <td>Operate on the DOM here</td>
    </tr>
  </tbody>
</table>

<p>Called when parents change properties and <code class="highlighter-rouge">.setState()</code>. These are not called for initial renders.</p>

<p>See: <a href="http://facebook.github.io/react/docs/component-specs.html#updating-componentwillreceiveprops">Component specs</a></p>

<h2 class="-two-column" id="hooks-new">Hooks (New)</h2>

<h3 id="state-hook">State Hook</h3>

<div data-line="5,10" class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nx">React</span><span class="p">,</span> <span class="p">{</span> <span class="nx">useState</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">Example</span><span class="p">()</span> <span class="p">{</span>
  <span class="c1">// Declare a new state variable, which we'll call "count"</span>
  <span class="kd">const</span> <span class="p">[</span><span class="nx">count</span><span class="p">,</span> <span class="nx">setCount</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>

  <span class="k">return</span> <span class="p">(</span>
    <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>You clicked <span class="si">{</span><span class="nx">count</span><span class="si">}</span> times<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">button</span> <span class="na">onClick=</span><span class="si">{</span><span class="p">()</span> <span class="o">=&gt;</span> <span class="nx">setCount</span><span class="p">(</span><span class="nx">count</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span><span class="si">}</span><span class="p">&gt;</span>
        Click me
      <span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
  <span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Hooks are a new addition in React 16.8.</p>

<p>See: <a href="https://reactjs.org/docs/hooks-overview.html">Hooks at a Glance</a></p>

<h3 id="declaring-multiple-state-variables">Declaring multiple state variables</h3>

<div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">ExampleWithManyStates</span><span class="p">()</span> <span class="p">{</span>
  <span class="c1">// Declare multiple state variables!</span>
  <span class="kd">const</span> <span class="p">[</span><span class="nx">age</span><span class="p">,</span> <span class="nx">setAge</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">(</span><span class="mi">42</span><span class="p">);</span>
  <span class="kd">const</span> <span class="p">[</span><span class="nx">fruit</span><span class="p">,</span> <span class="nx">setFruit</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">(</span><span class="dl">'</span><span class="s1">banana</span><span class="dl">'</span><span class="p">);</span>
  <span class="kd">const</span> <span class="p">[</span><span class="nx">todos</span><span class="p">,</span> <span class="nx">setTodos</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">([{</span> <span class="na">text</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Learn Hooks</span><span class="dl">'</span> <span class="p">}]);</span>
  <span class="c1">// ...</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="effect-hook">Effect hook</h3>

<div data-line="6,7,8,9,10" class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nx">React</span><span class="p">,</span> <span class="p">{</span> <span class="nx">useState</span><span class="p">,</span> <span class="nx">useEffect</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">Example</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="p">[</span><span class="nx">count</span><span class="p">,</span> <span class="nx">setCount</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>

  <span class="c1">// Similar to componentDidMount and componentDidUpdate:</span>
  <span class="nx">useEffect</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="c1">// Update the document title using the browser API</span>
    <span class="nb">document</span><span class="p">.</span><span class="nx">title</span> <span class="o">=</span> <span class="s2">`You clicked </span><span class="p">${</span><span class="nx">count</span><span class="p">}</span><span class="s2"> times`</span><span class="p">;</span>
  <span class="p">},</span> <span class="p">[</span><span class="nx">count</span><span class="p">]);</span>

  <span class="k">return</span> <span class="p">(</span>
    <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>You clicked <span class="si">{</span><span class="nx">count</span><span class="si">}</span> times<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">button</span> <span class="na">onClick=</span><span class="si">{</span><span class="p">()</span> <span class="o">=&gt;</span> <span class="nx">setCount</span><span class="p">(</span><span class="nx">count</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span><span class="si">}</span><span class="p">&gt;</span>
        Click me
      <span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
  <span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<p>If you’re familiar with React class lifecycle methods, you can think of <code class="highlighter-rouge">useEffect</code> Hook as <code class="highlighter-rouge">componentDidMount</code>, <code class="highlighter-rouge">componentDidUpdate</code>, and <code class="highlighter-rouge">componentWillUnmount</code> combined.</p>

<p>By default, React runs the effects after every render — including the first render.</p>

<h3 id="building-your-own-hooks">Building your own hooks</h3>

<h4 id="define-friendstatus">Define FriendStatus</h4>
<div data-line="11,12,13,14" class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nx">React</span><span class="p">,</span> <span class="p">{</span> <span class="nx">useState</span><span class="p">,</span> <span class="nx">useEffect</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">FriendStatus</span><span class="p">(</span><span class="nx">props</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="p">[</span><span class="nx">isOnline</span><span class="p">,</span> <span class="nx">setIsOnline</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span>

  <span class="nx">useEffect</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kd">function</span> <span class="nx">handleStatusChange</span><span class="p">(</span><span class="nx">status</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">setIsOnline</span><span class="p">(</span><span class="nx">status</span><span class="p">.</span><span class="nx">isOnline</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="nx">ChatAPI</span><span class="p">.</span><span class="nx">subscribeToFriendStatus</span><span class="p">(</span><span class="nx">props</span><span class="p">.</span><span class="nx">friend</span><span class="p">.</span><span class="nx">id</span><span class="p">,</span> <span class="nx">handleStatusChange</span><span class="p">);</span>
    <span class="k">return</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="nx">ChatAPI</span><span class="p">.</span><span class="nx">unsubscribeFromFriendStatus</span><span class="p">(</span><span class="nx">props</span><span class="p">.</span><span class="nx">friend</span><span class="p">.</span><span class="nx">id</span><span class="p">,</span> <span class="nx">handleStatusChange</span><span class="p">);</span>
    <span class="p">};</span>
  <span class="p">},</span> <span class="p">[</span><span class="nx">props</span><span class="p">.</span><span class="nx">friend</span><span class="p">.</span><span class="nx">id</span><span class="p">]);</span>

  <span class="k">if</span> <span class="p">(</span><span class="nx">isOnline</span> <span class="o">===</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="dl">'</span><span class="s1">Loading...</span><span class="dl">'</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="nx">isOnline</span> <span class="p">?</span> <span class="dl">'</span><span class="s1">Online</span><span class="dl">'</span> <span class="p">:</span> <span class="dl">'</span><span class="s1">Offline</span><span class="dl">'</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Effects may also optionally specify how to “clean up” after them by returning a function.</p>

<h4 id="use-friendstatus">Use FriendStatus</h4>

<div data-line="2" class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">FriendStatus</span><span class="p">(</span><span class="nx">props</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">isOnline</span> <span class="o">=</span> <span class="nx">useFriendStatus</span><span class="p">(</span><span class="nx">props</span><span class="p">.</span><span class="nx">friend</span><span class="p">.</span><span class="nx">id</span><span class="p">);</span>

  <span class="k">if</span> <span class="p">(</span><span class="nx">isOnline</span> <span class="o">===</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="dl">'</span><span class="s1">Loading...</span><span class="dl">'</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="nx">isOnline</span> <span class="p">?</span> <span class="dl">'</span><span class="s1">Online</span><span class="dl">'</span> <span class="p">:</span> <span class="dl">'</span><span class="s1">Offline</span><span class="dl">'</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p>See: <a href="https://reactjs.org/docs/hooks-custom.html">Building Your Own Hooks</a></p>

<h3 id="hooks-api-reference">Hooks API Reference</h3>

<p>Also see: <a href="https://reactjs.org/docs/hooks-faq.html">Hooks FAQ</a></p>

<h4 id="basic-hooks">Basic Hooks</h4>

<table>
  <thead>
    <tr>
      <th>Hook</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">useState</code><em>(initialState)</em></td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">useEffect</code><em>(() =&gt; { … })</em></td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">useContext</code><em>(MyContext)</em></td>
      <td>value returned from <code class="highlighter-rouge">React.createContext</code></td>
    </tr>
  </tbody>
</table>

<p>Full details: <a href="https://reactjs.org/docs/hooks-reference.html#basic-hooks">Basic Hooks</a></p>

<h4 id="additional-hooks">Additional Hooks</h4>

<table>
  <thead>
    <tr>
      <th>Hook</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">useReducer</code><em>(reducer, initialArg, init)</em></td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">useCallback</code><em>(() =&gt; { … })</em></td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">useMemo</code><em>(() =&gt; { … })</em></td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">useRef</code><em>(initialValue)</em></td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">useImperativeHandle</code><em>(ref, () =&gt; { … })</em></td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">useLayoutEffect</code></td>
      <td>identical to <code class="highlighter-rouge">useEffect</code>, but it fires synchronously after all DOM mutations</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">useDebugValue</code><em>(value)</em></td>
      <td>display a label for custom hooks in React DevTools</td>
    </tr>
  </tbody>
</table>

<p>Full details: <a href="https://reactjs.org/docs/hooks-reference.html#additional-hooks">Additional Hooks</a></p>

<h2 class="-two-column" id="dom-nodes">DOM nodes</h2>

<h3 id="references">References</h3>

<div data-line="4,9" class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nx">MyComponent</span> <span class="kd">extends</span> <span class="nx">Component</span> <span class="p">{</span>
  <span class="nx">render</span> <span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">input</span> <span class="na">ref=</span><span class="si">{</span><span class="nx">el</span> <span class="o">=&gt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">input</span> <span class="o">=</span> <span class="nx">el</span><span class="si">}</span> <span class="p">/&gt;</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
  <span class="p">}</span>

  <span class="nx">componentDidMount</span> <span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">input</span><span class="p">.</span><span class="nx">focus</span><span class="p">()</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Allows access to DOM nodes.</p>

<p>See: <a href="https://reactjs.org/docs/refs-and-the-dom.html">Refs and the DOM</a></p>

<h3 id="dom-events">DOM Events</h3>

<div data-line="5,9" class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nx">MyComponent</span> <span class="kd">extends</span> <span class="nx">Component</span> <span class="p">{</span>
  <span class="nx">render</span> <span class="p">()</span> <span class="p">{</span>
    <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type=</span><span class="s2">"text"</span>
        <span class="na">value=</span><span class="si">{</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">value</span><span class="si">}</span>
        <span class="na">onChange=</span><span class="si">{</span><span class="nx">event</span> <span class="o">=&gt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">onChange</span><span class="p">(</span><span class="nx">event</span><span class="p">)</span><span class="si">}</span> <span class="p">/&gt;</span>
  <span class="p">}</span>

  <span class="nx">onChange</span> <span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">({</span> <span class="na">value</span><span class="p">:</span> <span class="nx">event</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">value</span> <span class="p">})</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Pass functions to attributes like <code class="highlighter-rouge">onChange</code>.</p>

<p>See: <a href="https://reactjs.org/docs/events.html">Events</a></p>

<h2 id="other-features">Other features</h2>

<h3 id="transferring-props">Transferring props</h3>

<div class="language-html -setup highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;VideoPlayer</span> <span class="na">src=</span><span class="s">"video.mp4"</span> <span class="nt">/&gt;</span>
</code></pre></div></div>

<div data-line="3" class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nx">VideoPlayer</span> <span class="kd">extends</span> <span class="nx">Component</span> <span class="p">{</span>
  <span class="nx">render</span> <span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">&lt;</span><span class="nc">VideoEmbed</span> <span class="err">{</span><span class="p">...</span><span class="nt">this</span><span class="p">.</span><span class="nt">props</span><span class="err">}</span> <span class="p">/&gt;</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Propagates <code class="highlighter-rouge">src="..."</code> down to the sub-component.</p>

<p>See <a href="http://facebook.github.io/react/docs/transferring-props.html">Transferring props</a></p>

<h3 id="top-level-api">Top-level API</h3>

<div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">React</span><span class="p">.</span><span class="nx">createClass</span><span class="p">({</span> <span class="p">...</span> <span class="p">})</span>
<span class="nx">React</span><span class="p">.</span><span class="nx">isValidElement</span><span class="p">(</span><span class="nx">c</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">render</span><span class="p">(&lt;</span><span class="nc">Component</span> <span class="p">/&gt;,</span> <span class="nx">domnode</span><span class="p">,</span> <span class="p">[</span><span class="nx">callback</span><span class="p">])</span>
<span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">unmountComponentAtNode</span><span class="p">(</span><span class="nx">domnode</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">ReactDOMServer</span><span class="p">.</span><span class="nx">renderToString</span><span class="p">(&lt;</span><span class="nc">Component</span> <span class="p">/&gt;)</span>
<span class="nx">ReactDOMServer</span><span class="p">.</span><span class="nx">renderToStaticMarkup</span><span class="p">(&lt;</span><span class="nc">Component</span> <span class="p">/&gt;)</span>
</code></pre></div></div>

<p>There are more, but these are most common.</p>

<p>See: <a href="https://reactjs.org/docs/react-api.html">React top-level API</a></p>

<h2 class="-two-column" id="jsx-patterns">JSX patterns</h2>

<h3 id="style-shorthand">Style shorthand</h3>

<div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">style</span> <span class="o">=</span> <span class="p">{</span> <span class="na">height</span><span class="p">:</span> <span class="mi">10</span> <span class="p">}</span>
<span class="k">return</span> <span class="p">&lt;</span><span class="nt">div</span> <span class="na">style=</span><span class="si">{</span><span class="nx">style</span><span class="si">}</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</code></pre></div></div>

<div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">return</span> <span class="p">&lt;</span><span class="nt">div</span> <span class="na">style=</span><span class="si">{</span><span class="p">{</span> <span class="na">margin</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="na">padding</span><span class="p">:</span> <span class="mi">0</span> <span class="p">}</span><span class="si">}</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</code></pre></div></div>

<p>See: <a href="https://reactjs.org/tips/inline-styles.html">Inline styles</a></p>

<h3 id="inner-html">Inner HTML</h3>

<div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">markdownify</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="dl">"</span><span class="s2">&lt;p&gt;...&lt;/p&gt;</span><span class="dl">"</span><span class="p">;</span> <span class="p">}</span>
<span class="p">&lt;</span><span class="nt">div</span> <span class="na">dangerouslySetInnerHTML=</span><span class="si">{</span><span class="p">{</span><span class="na">__html</span><span class="p">:</span> <span class="nx">markdownify</span><span class="p">()}</span><span class="si">}</span> <span class="p">/&gt;</span>
</code></pre></div></div>

<p>See: <a href="https://reactjs.org/tips/dangerously-set-inner-html.html">Dangerously set innerHTML</a></p>

<h3 id="lists">Lists</h3>

<div data-line="6,7" class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nx">TodoList</span> <span class="kd">extends</span> <span class="nx">Component</span> <span class="p">{</span>
  <span class="nx">render</span> <span class="p">()</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="p">{</span> <span class="nx">items</span> <span class="p">}</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">props</span>

    <span class="k">return</span> <span class="p">&lt;</span><span class="nt">ul</span><span class="p">&gt;</span>
      <span class="si">{</span><span class="nx">items</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">item</span> <span class="o">=&gt;</span>
        <span class="p">&lt;</span><span class="nc">TodoItem</span> <span class="na">item=</span><span class="si">{</span><span class="nx">item</span><span class="si">}</span> <span class="na">key=</span><span class="si">{</span><span class="nx">item</span><span class="p">.</span><span class="nx">key</span><span class="si">}</span> <span class="p">/&gt;)</span><span class="si">}</span>
    <span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Always supply a <code class="highlighter-rouge">key</code> property.</p>

<h3 id="conditionals">Conditionals</h3>

<div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&lt;</span><span class="nx">Fragment</span><span class="o">&gt;</span>
  <span class="p">{</span><span class="nx">showMyComponent</span>
    <span class="p">?</span> <span class="p">&lt;</span><span class="nc">MyComponent</span> <span class="p">/&gt;</span>
    <span class="p">:</span> <span class="p">&lt;</span><span class="nc">OtherComponent</span> <span class="p">/&gt;}</span>
<span class="p">&lt;</span><span class="err">/</span><span class="nc">Fragment</span><span class="p">&gt;</span>
</code></pre></div></div>

<h3 id="short-circuit-evaluation">Short-circuit evaluation</h3>

<div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&lt;</span><span class="nx">Fragment</span><span class="o">&gt;</span>
  <span class="p">{</span><span class="nx">showPopup</span> <span class="o">&amp;&amp;</span> <span class="p">&lt;</span><span class="nc">Popup</span> <span class="p">/&gt;}</span>
  <span class="p">...</span>
<span class="o">&lt;</span><span class="sr">/Fragment</span><span class="err">&gt;
</span></code></pre></div></div>

<h2 class="-three-column" id="new-features">New features</h2>

<h3 id="returning-multiple-elements">Returning multiple elements</h3>

<p>You can return multiple elements as arrays or fragments.</p>

<h4 id="arrays">Arrays</h4>

<div data-line="3,4,5,6" class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">render</span> <span class="p">()</span> <span class="p">{</span>
  <span class="c1">// Don't forget the keys!</span>
  <span class="k">return</span> <span class="p">[</span>
    <span class="o">&lt;</span><span class="nx">li</span> <span class="nx">key</span><span class="o">=</span><span class="dl">"</span><span class="s2">A</span><span class="dl">"</span><span class="o">&gt;</span><span class="nx">First</span> <span class="nx">item</span><span class="o">&lt;</span><span class="sr">/li&gt;</span><span class="err">,
</span>    <span class="o">&lt;</span><span class="nx">li</span> <span class="nx">key</span><span class="o">=</span><span class="dl">"</span><span class="s2">B</span><span class="dl">"</span><span class="o">&gt;</span><span class="nx">Second</span> <span class="nx">item</span><span class="o">&lt;</span><span class="sr">/li</span><span class="err">&gt;
</span>  <span class="p">]</span>
<span class="p">}</span>
</code></pre></div></div>

<h4 id="fragments">Fragments</h4>
<div data-line="3,4,5,6,7,8" class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">render</span> <span class="p">()</span> <span class="p">{</span>
  <span class="c1">// Fragments don't require keys!</span>
  <span class="k">return</span> <span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">Fragment</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="nx">li</span><span class="o">&gt;</span><span class="nx">First</span> <span class="nx">item</span><span class="o">&lt;</span><span class="sr">/li</span><span class="err">&gt;
</span>      <span class="o">&lt;</span><span class="nx">li</span><span class="o">&gt;</span><span class="nx">Second</span> <span class="nx">item</span><span class="o">&lt;</span><span class="sr">/li</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="sr">/Fragment</span><span class="err">&gt;
</span>  <span class="p">)</span>
<span class="p">}</span>
</code></pre></div></div>

<p>See: <a href="https://reactjs.org/blog/2017/09/26/react-v16.0.html#new-render-return-types-fragments-and-strings">Fragments and strings</a></p>

<h3 id="returning-strings">Returning strings</h3>

<div data-line="2" class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="dl">'</span><span class="s1">Look ma, no spans!</span><span class="dl">'</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p>You can return just a string.</p>

<p>See: <a href="https://reactjs.org/blog/2017/09/26/react-v16.0.html#new-render-return-types-fragments-and-strings">Fragments and strings</a></p>

<h3 id="errors">Errors</h3>

<div data-line="3,4,5" class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nx">MyComponent</span> <span class="kd">extends</span> <span class="nx">Component</span> <span class="p">{</span>
  <span class="err">···</span>
  <span class="nx">componentDidCatch</span> <span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">info</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">({</span> <span class="nx">error</span> <span class="p">})</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Catch errors via <code class="highlighter-rouge">componentDidCatch</code>. (React 16+)</p>

<p>See: <a href="https://reactjs.org/blog/2017/07/26/error-handling-in-react-16.html">Error handling in React 16</a></p>

<h3 id="portals">Portals</h3>

<div data-line="2,3,4,5" class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">render</span> <span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createPortal</span><span class="p">(</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">children</span><span class="p">,</span>
    <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="dl">'</span><span class="s1">menu</span><span class="dl">'</span><span class="p">)</span>
  <span class="p">)</span>
<span class="p">}</span>
</code></pre></div></div>

<p>This renders <code class="highlighter-rouge">this.props.children</code> into any location in the DOM.</p>

<p>See: <a href="https://reactjs.org/docs/portals.html">Portals</a></p>

<h3 id="hydration">Hydration</h3>

<div data-line="2" class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">el</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="dl">'</span><span class="s1">app</span><span class="dl">'</span><span class="p">)</span>
<span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">hydrate</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">App</span> <span class="o">/&gt;</span><span class="p">,</span> <span class="nx">el</span><span class="p">)</span>
</code></pre></div></div>

<p>Use <code class="highlighter-rouge">ReactDOM.hydrate</code> instead of using <code class="highlighter-rouge">ReactDOM.render</code> if you’re rendering over the output of <a href="https://reactjs.org/docs/react-dom-server.html">ReactDOMServer</a>.</p>

<p>See: <a href="https://reactjs.org/docs/react-dom.html#hydrate">Hydrate</a></p>

<h2 class="-three-column" id="property-validation">Property validation</h2>

<h3 id="proptypes">PropTypes</h3>

<div class="language-js -setup highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nx">PropTypes</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">prop-types</span><span class="dl">'</span>
</code></pre></div></div>

<p>See: <a href="https://reactjs.org/docs/typechecking-with-proptypes.html">Typechecking with PropTypes</a></p>

<table>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">any</code></td>
      <td>Anything</td>
    </tr>
  </tbody>
</table>

<h4 id="basic">Basic</h4>

<table>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">string</code></td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">number</code></td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">func</code></td>
      <td>Function</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">bool</code></td>
      <td>True or false</td>
    </tr>
  </tbody>
</table>

<h4 id="enum">Enum</h4>

<table>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">oneOf</code><em>(any)</em></td>
      <td>Enum types</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">oneOfType</code><em>(type array)</em></td>
      <td>Union</td>
    </tr>
  </tbody>
</table>

<h4 id="array">Array</h4>

<table>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">array</code></td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">arrayOf</code><em>(…)</em></td>
      <td> </td>
    </tr>
  </tbody>
</table>

<h4 id="object">Object</h4>

<table>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">object</code></td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">objectOf</code><em>(…)</em></td>
      <td>Object with values of a certain type</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">instanceOf</code><em>(…)</em></td>
      <td>Instance of a class</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">shape</code><em>(…)</em></td>
      <td> </td>
    </tr>
  </tbody>
</table>

<h4 id="elements">Elements</h4>

<table>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">element</code></td>
      <td>React element</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">node</code></td>
      <td>DOM node</td>
    </tr>
  </tbody>
</table>

<h4 id="required">Required</h4>

<table>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">(···).isRequired</code></td>
      <td>Required</td>
    </tr>
  </tbody>
</table>

<h3 id="basic-types">Basic types</h3>

<div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">MyComponent</span><span class="p">.</span><span class="nx">propTypes</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">email</span><span class="p">:</span>      <span class="nx">PropTypes</span><span class="p">.</span><span class="nx">string</span><span class="p">,</span>
  <span class="na">seats</span><span class="p">:</span>      <span class="nx">PropTypes</span><span class="p">.</span><span class="nx">number</span><span class="p">,</span>
  <span class="na">callback</span><span class="p">:</span>   <span class="nx">PropTypes</span><span class="p">.</span><span class="nx">func</span><span class="p">,</span>
  <span class="na">isClosed</span><span class="p">:</span>   <span class="nx">PropTypes</span><span class="p">.</span><span class="nx">bool</span><span class="p">,</span>
  <span class="na">any</span><span class="p">:</span>        <span class="nx">PropTypes</span><span class="p">.</span><span class="nx">any</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="required-types">Required types</h3>

<div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">MyCo</span><span class="p">.</span><span class="nx">propTypes</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">name</span><span class="p">:</span>  <span class="nx">PropTypes</span><span class="p">.</span><span class="nx">string</span><span class="p">.</span><span class="nx">isRequired</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="elements-1">Elements</h3>

<div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">MyCo</span><span class="p">.</span><span class="nx">propTypes</span> <span class="o">=</span> <span class="p">{</span>
  <span class="c1">// React element</span>
  <span class="na">element</span><span class="p">:</span> <span class="nx">PropTypes</span><span class="p">.</span><span class="nx">element</span><span class="p">,</span>

  <span class="c1">// num, string, element, or an array of those</span>
  <span class="na">node</span><span class="p">:</span> <span class="nx">PropTypes</span><span class="p">.</span><span class="nx">node</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="enumerables-oneof">Enumerables (oneOf)</h3>

<div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">MyCo</span><span class="p">.</span><span class="nx">propTypes</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">direction</span><span class="p">:</span> <span class="nx">PropTypes</span><span class="p">.</span><span class="nx">oneOf</span><span class="p">([</span>
    <span class="dl">'</span><span class="s1">left</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">right</span><span class="dl">'</span>
  <span class="p">])</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="arrays-and-objects">Arrays and objects</h3>

<div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">MyCo</span><span class="p">.</span><span class="nx">propTypes</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">list</span><span class="p">:</span> <span class="nx">PropTypes</span><span class="p">.</span><span class="nx">array</span><span class="p">,</span>
  <span class="na">ages</span><span class="p">:</span> <span class="nx">PropTypes</span><span class="p">.</span><span class="nx">arrayOf</span><span class="p">(</span><span class="nx">PropTypes</span><span class="p">.</span><span class="nx">number</span><span class="p">),</span>
  <span class="na">user</span><span class="p">:</span> <span class="nx">PropTypes</span><span class="p">.</span><span class="nx">object</span><span class="p">,</span>
  <span class="na">user</span><span class="p">:</span> <span class="nx">PropTypes</span><span class="p">.</span><span class="nx">objectOf</span><span class="p">(</span><span class="nx">PropTypes</span><span class="p">.</span><span class="nx">number</span><span class="p">),</span>
  <span class="na">message</span><span class="p">:</span> <span class="nx">PropTypes</span><span class="p">.</span><span class="nx">instanceOf</span><span class="p">(</span><span class="nx">Message</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div></div>

<div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">MyCo</span><span class="p">.</span><span class="nx">propTypes</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">user</span><span class="p">:</span> <span class="nx">PropTypes</span><span class="p">.</span><span class="nx">shape</span><span class="p">({</span>
    <span class="na">name</span><span class="p">:</span> <span class="nx">PropTypes</span><span class="p">.</span><span class="nx">string</span><span class="p">,</span>
    <span class="na">age</span><span class="p">:</span>  <span class="nx">PropTypes</span><span class="p">.</span><span class="nx">number</span>
  <span class="p">})</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Use <code class="highlighter-rouge">.array[Of]</code>, <code class="highlighter-rouge">.object[Of]</code>, <code class="highlighter-rouge">.instanceOf</code>, <code class="highlighter-rouge">.shape</code>.</p>

<h3 id="custom-validation">Custom validation</h3>

<div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">MyCo</span><span class="p">.</span><span class="nx">propTypes</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">customProp</span><span class="p">:</span> <span class="p">(</span><span class="nx">props</span><span class="p">,</span> <span class="nx">key</span><span class="p">,</span> <span class="nx">componentName</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="sr">/matchme/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">props</span><span class="p">[</span><span class="nx">key</span><span class="p">]))</span> <span class="p">{</span>
      <span class="k">return</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="dl">'</span><span class="s1">Validation failed!</span><span class="dl">'</span><span class="p">)</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="also-see">Also see</h2>

<ul>
  <li><a href="https://reactjs.org">React website</a> <em>(reactjs.org)</em></li>
  <li><a href="https://reactcheatsheet.com/">React cheatsheet</a> <em>(reactcheatsheet.com)</em></li>
  <li><a href="https://github.com/enaqx/awesome-react">Awesome React</a> <em>(github.com)</em></li>
  <li><a href="react@0.14">React v0.14 cheatsheet</a> <em>Legacy version</em></li>
</ul>

