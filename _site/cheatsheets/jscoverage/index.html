<h3 id="install">Install</h3>

<h4 id="install-via-npm">Install via npm</h4>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm <span class="nb">install</span> <span class="nt">--save-dev</span> jscoverage
</code></pre></div></div>

<h4 id="ignore-output">Ignore output</h4>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">echo </span>coverage.html <span class="o">&gt;&gt;</span> .gitignore
</code></pre></div></div>

<h3 id="packagejson">package.json</h3>

<p class="-setup">The <code class="highlighter-rouge">coverage</code> task injects your source files (<code class="highlighter-rouge">lib</code>) with jscoverage hooks, runs <code class="highlighter-rouge">mocha -R html-cov</code>, then restores later.</p>

<div class="language-bash -hard-wrap highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/<span class="k">*</span> directory <span class="k">*</span>/
<span class="s2">"coverage"</span>: <span class="s2">"mv lib lib~; (jscoverage lib~ lib; mocha -R html-cov &gt; coverage.html); rm -rf lib; mv lib~ lib"</span>
</code></pre></div></div>

<div class="language-bash -hard-wrap highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/<span class="k">*</span> single file <span class="k">*</span>/
<span class="s2">"coverage"</span>: <span class="s2">"(cp index.js index.js~; jscoverage index.js; mv index-cov.js index.js; mocha -R html-cov &gt; coverage.html); mv index.js~ index.js"</span>
</code></pre></div></div>

<h3 id="run">Run</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm run coverage
</code></pre></div></div>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>open coverage.html
</code></pre></div></div>

<h3 id="caveats">Caveats</h3>

<p>If youâ€™re using jsdom, be sure to expose the <code class="highlighter-rouge">window._$jscoverage</code> variable into 
the <code class="highlighter-rouge">global</code> scope.</p>
