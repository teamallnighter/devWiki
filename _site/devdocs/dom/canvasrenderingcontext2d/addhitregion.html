<h1>CanvasRenderingContext2D.addHitRegion</h1> <div class="blockIndicator experimental indicator-warning"> <p> <strong>This is an <a href="https://developer.mozilla.org/en-US/docs/MDN/Contribute/Guidelines/Conventions_definitions#Experimental">experimental technology</a></strong><br>Check the <a href="#Browser_compatibility">Browser compatibility table</a> carefully before using this in production.</p> </div> <p>The <code><strong>CanvasRenderingContext2D</strong></code><code>.addHitRegion()</code> method of the Canvas 2D API adds a hit region to the bitmap. This allows you to make hit detection easier, lets you route events to DOM elements, and makes it possible for users to explore the canvas without seeing it.</p> <h2 id="Syntax">Syntax</h2> <pre class="syntaxbox">void <em>ctx</em>.addHitRegion(<em>options</em>);
</pre> <h3 id="Options">Options</h3> <p>The <code>options</code> argument is optional. When provided, it is an <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><code>Object</code></a> which can contain the following properties:</p> <dl> <dt><code>path</code></dt> <dd>A <a href="../path2d"><code>Path2D</code></a> object describing the area of the hit region. If not provided, the current path is used.</dd> <dt><code>fillRule</code></dt> <dd>The fill rule to use (defaults to <code>"nonzero"</code>).</dd> <dt><code>id</code></dt> <dd>The ID for this hit region to reference it for later use in events, for example.</dd> <dt><code>parentID</code></dt> <dd>The ID of the parent region for cursor fallback and navigation by accessibility tools.</dd> <dt><code>cursor</code></dt> <dd>The <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/cursor"><code>cursor</code></a> to use when the mouse is over this region (defaults to <code>"inherit"</code>). Inherits the cursor of the parent hit region, if any, or the canvas element's cursor.</dd> <dt><code>control</code></dt> <dd>An element (descendant of the canvas) to which events are to be routed. Defaults to <code>null</code>.</dd> <dt><code>label</code></dt> <dd>A text label for accessibility tools to use as a description of the region, if there is no control. Defaults to <code>null</code>.</dd> <dt><code>role</code></dt> <dd>An <a href="https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA">ARIA role</a> for accessibility tools to determine how to represent this region, if there is no control. Defaults to <code>null</code>.</dd> </dl> <h2 id="Examples">Examples</h2> <h3 id="Using_the_addHitRegion_method">Using the <code>addHitRegion</code> method</h3> <p>This example demonstrates the <code>addHitRegion()</code> method.</p> <h4 id="HTML">HTML</h4> <pre data-language="html">&lt;canvas id="canvas"&gt;&lt;/canvas&gt;
</pre> <h4 id="JavaScript">JavaScript</h4> <pre data-language="js">const canvas = document.getElementById('canvas');
const ctx = canvas.getContext('2d');

canvas.addEventListener('mousemove', function(event) {
  if(event.region) {
    alert('ouch, my eye :(');
  }
});

ctx.beginPath();
ctx.arc(100, 100, 75, 0, 2 * Math.PI);
ctx.lineWidth = 5;
ctx.stroke();

// Eyes
ctx.beginPath();
ctx.arc(70, 80, 10, 0, 2 * Math.PI);
ctx.arc(130, 80, 10, 0, 2 * Math.PI);
ctx.fill();
ctx.addHitRegion({id: "eyes"});

// Mouth
ctx.beginPath();
ctx.arc(100, 110, 50, 0, Math.PI);
ctx.stroke();
</pre> <p>Edit the code below to see your changes update live in the canvas (if you don't see the full smiley, check in the browser compatibility table, if your current browser supports hit regions already, you might need to activate a preference).</p>  <p><iframe src="https://mdn.mozillademos.org/en-US/docs/Web/API/CanvasRenderingContext2D/addHitRegion%24samples/Playable_code?revision=1436952" height="520" id="frame_Playable_code" width="700" frameborder="0" class="live-sample-frame sample-code-frame"></iframe></p> <h2 id="Specifications">Specifications</h2> <h2 id="Browser_compatibility">Browser compatibility<a href="https://github.com/mdn/browser-compat-data" class="bc-github-link">Update compatibility data on GitHub</a>
</h2>  <div class="_table">
<table class="bc-table bc-table-web">
<thead>
<tr class="bc-platforms">
<th></th>
<th colspan="6">Desktop</th>
</tr>
<tr class="bc-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Internet Explorer</th>
<th>Opera</th>
<th>Safari</th>
</tr>
</thead>
<tbody>
<tr>
<th scope="row">Basic support 
</th>
<td class="bc-supports-yes bc-has-history"> Yes<div class="bc-icons">Disabled </div>
<dl>
<dt class="bc-supports-yes bc-supports"> Yes<div class="bc-icons">Disabled </div>
</dt>
<dd>Disabled This feature is behind the <code>Experimental Web Platform Features</code> preference. To change preferences in Chrome, visit chrome://flags.</dd>
</dl>
</td>
<td> ? </td>
<td class="bc-supports-yes bc-has-history"> 30<div class="bc-icons">Disabled </div>
<dl>
<dt class="bc-supports-yes bc-supports"> 30<div class="bc-icons">Disabled </div>
</dt>
<dd>Disabled From version 30: this feature is behind the <code>canvas.hitregions.enabled</code> preference. To change preferences in Firefox, visit about:config.</dd>
</dl>
</td>
<td class="bc-supports-no"> No</td>
<td class="bc-supports-no"> No</td>
<td class="bc-supports-no"> No</td>
</tr>
<tr>
<th scope="row">
<code>id</code> 
</th>
<td class="bc-supports-yes bc-has-history"> Yes<div class="bc-icons">Disabled </div>
<dl>
<dt class="bc-supports-yes bc-supports"> Yes<div class="bc-icons">Disabled </div>
</dt>
<dd>Disabled This feature is behind the <code>Experimental Web Platform Features</code> preference. To change preferences in Chrome, visit chrome://flags.</dd>
</dl>
</td>
<td> ? </td>
<td class="bc-supports-yes bc-has-history"> 30<div class="bc-icons">Disabled </div>
<dl>
<dt class="bc-supports-yes bc-supports"> 30<div class="bc-icons">Disabled </div>
</dt>
<dd>Disabled From version 30: this feature is behind the <code>canvas.hitregions.enabled</code> preference. To change preferences in Firefox, visit about:config.</dd>
</dl>
</td>
<td class="bc-supports-no"> No</td>
<td class="bc-supports-no"> No</td>
<td class="bc-supports-no"> No</td>
</tr>
<tr>
<th scope="row">
<code>control</code> 
</th>
<td class="bc-supports-yes bc-has-history"> Yes<div class="bc-icons">Disabled </div>
<dl>
<dt class="bc-supports-yes bc-supports"> Yes<div class="bc-icons">Disabled </div>
</dt>
<dd>Disabled This feature is behind the <code>canvas.hitregions.enabled</code> preference. To change preferences in Chrome, visit chrome://flags.</dd>
</dl>
</td>
<td> ? </td>
<td class="bc-supports-yes bc-has-history"> 30<div class="bc-icons">Disabled </div>
<dl>
<dt class="bc-supports-yes bc-supports"> 30<div class="bc-icons">Disabled </div>
</dt>
<dd>Disabled From version 30: this feature is behind the <code>canvas.hitregions.enabled</code> preference. To change preferences in Firefox, visit about:config.</dd>
</dl>
</td>
<td class="bc-supports-no"> No</td>
<td class="bc-supports-no"> No</td>
<td class="bc-supports-no"> No</td>
</tr>
<tr>
<th scope="row">
<code>path</code> 
</th>
<td class="bc-supports-yes bc-has-history"> Yes<div class="bc-icons">Disabled </div>
<dl>
<dt class="bc-supports-yes bc-supports"> Yes<div class="bc-icons">Disabled </div>
</dt>
<dd>Disabled This feature is behind the <code>Experimental Web Platform Features</code> preference. To change preferences in Chrome, visit chrome://flags.</dd>
</dl>
</td>
<td> ? </td>
<td class="bc-supports-yes bc-has-history"> 39<div class="bc-icons">Disabled </div>
<dl>
<dt class="bc-supports-yes bc-supports"> 39<div class="bc-icons">Disabled </div>
</dt>
<dd>Disabled From version 39: this feature is behind the <code>canvas.hitregions.enabled</code> preference. To change preferences in Firefox, visit about:config.</dd>
</dl>
</td>
<td class="bc-supports-no"> No</td>
<td class="bc-supports-no"> No</td>
<td class="bc-supports-no"> No</td>
</tr>
<tr>
<th scope="row">
<code>fillRule</code> 
</th>
<td class="bc-supports-yes bc-has-history"> Yes<div class="bc-icons">Disabled </div>
<dl>
<dt class="bc-supports-yes bc-supports"> Yes<div class="bc-icons">Disabled </div>
</dt>
<dd>Disabled This feature is behind the <code>Experimental Web Platform Features</code> preference. To change preferences in Chrome, visit chrome://flags.</dd>
</dl>
</td>
<td> ? </td>
<td class="bc-supports-no"> No</td>
<td class="bc-supports-no"> No</td>
<td class="bc-supports-no"> No</td>
<td class="bc-supports-no"> No</td>
</tr>
<tr>
<th scope="row">other hit region options 
</th>
<td class="bc-supports-no"> No</td>
<td> ? </td>
<td class="bc-supports-no"> No</td>
<td class="bc-supports-no"> No</td>
<td class="bc-supports-no"> No</td>
<td class="bc-supports-no"> No</td>
</tr>
</tbody>
</table>
<table class="bc-table bc-table-web">
<thead>
<tr class="bc-platforms">
<th></th>
<th colspan="7">Mobile</th>
</tr>
<tr class="bc-browsers">
<th></th>
<th>Android webview</th>
<th>Chrome for Android</th>
<th>Edge Mobile</th>
<th>Firefox for Android</th>
<th>Opera for Android</th>
<th>iOS Safari</th>
<th>Samsung Internet</th>
</tr>
</thead>
<tbody>
<tr>
<th scope="row">Basic support 
</th>
<td class="bc-supports-no"> No</td>
<td class="bc-supports-no"> No</td>
<td> ? </td>
<td class="bc-supports-yes bc-has-history"> 30<div class="bc-icons">Disabled </div>
<dl>
<dt class="bc-supports-yes bc-supports"> 30<div class="bc-icons">Disabled </div>
</dt>
<dd>Disabled From version 30: this feature is behind the <code>canvas.hitregions.enabled</code> preference. To change preferences in Firefox, visit about:config.</dd>
</dl>
</td>
<td class="bc-supports-no"> No</td>
<td class="bc-supports-no"> No</td>
<td class="bc-supports-no"> No</td>
</tr>
<tr>
<th scope="row">
<code>id</code> 
</th>
<td class="bc-supports-no"> No</td>
<td class="bc-supports-no"> No</td>
<td> ? </td>
<td class="bc-supports-yes"> 30</td>
<td class="bc-supports-no"> No</td>
<td class="bc-supports-no"> No</td>
<td class="bc-supports-no"> No</td>
</tr>
<tr>
<th scope="row">
<code>control</code> 
</th>
<td class="bc-supports-no"> No</td>
<td class="bc-supports-no"> No</td>
<td> ? </td>
<td class="bc-supports-yes"> 30</td>
<td class="bc-supports-no"> No</td>
<td class="bc-supports-no"> No</td>
<td class="bc-supports-no"> No</td>
</tr>
<tr>
<th scope="row">
<code>path</code> 
</th>
<td class="bc-supports-no"> No</td>
<td class="bc-supports-no"> No</td>
<td> ? </td>
<td class="bc-supports-yes"> 30</td>
<td class="bc-supports-no"> No</td>
<td class="bc-supports-no"> No</td>
<td class="bc-supports-no"> No</td>
</tr>
<tr>
<th scope="row">
<code>fillRule</code> 
</th>
<td class="bc-supports-no"> No</td>
<td class="bc-supports-no"> No</td>
<td> ? </td>
<td class="bc-supports-no"> No</td>
<td class="bc-supports-no"> No</td>
<td class="bc-supports-no"> No</td>
<td class="bc-supports-no"> No</td>
</tr>
<tr>
<th scope="row">other hit region options 
</th>
<td class="bc-supports-no"> No</td>
<td class="bc-supports-no"> No</td>
<td> ? </td>
<td class="bc-supports-no"> No</td>
<td class="bc-supports-no"> No</td>
<td class="bc-supports-no"> No</td>
<td class="bc-supports-no"> No</td>
</tr>
</tbody>
</table>
</div> <h2 id="See_also">See also</h2> <ul> <li>
<a href="removehitregion"><code>CanvasRenderingContext2D.removeHitRegion()</code></a> 
</li> <li>
<a href="clearhitregions"><code>CanvasRenderingContext2D.clearHitRegions()</code></a> 
</li> </ul><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/addHitRegion$edit" class="_attribution-link">Edit this page on MDN</a>
  </p>
</div>
<div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2018 Mozilla Developer Network and individual contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/addHitRegion" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/addHitRegion</a>
  </p>
</div>
