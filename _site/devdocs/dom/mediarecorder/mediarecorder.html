<h1>MediaRecorder.constructor</h1> <p>The <code>MediaRecorder()</code> constructor creates a new <a href="../mediarecorder"><code>MediaRecorder</code></a> object that will record a specified <a href="../mediastream"><code>MediaStream</code></a>.</p> <h2 id="Syntax">Syntax</h2> <pre class="syntaxbox">var <em>mediaRecorder</em> = new MediaRecorder(<em>stream</em>[, <em>options</em>]);</pre> <h3 id="Parameters">Parameters</h3> <dl> <dt><code><strong>stream</strong></code></dt> <dd>The <a href="../mediastream"><code>MediaStream</code></a> that will be recorded. This source media can come from a stream created using <a href="../mediadevices/getusermedia"><code>navigator.mediaDevices.getUserMedia()</code></a> or from an <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/audio"><code>&lt;audio&gt;</code></a>, <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/video"><code>&lt;video&gt;</code></a> or <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/canvas"><code>&lt;canvas&gt;</code></a> element.</dd> <dt> <p><code>options</code><span class="inlineIndicator optional optionalInline">Optional</span></p> </dt> <dd> <p>A dictionary object that can contain the following properties:</p> <ul> <li>
<code>mimeType</code>: The mime type you want to use as the recording container for the new <code>MediaRecorder</code>. Applications can check in advance if this <code>mimeType</code> is supported by the user agent by calling <a href="istypesupported"><code>MediaRecorder.isTypeSupported()</code></a>.</li> <li>
<code>audioBitsPerSecond</code>: The chosen bitrate for the audio component of the media.</li> <li>
<code>videoBitsPerSecond</code>: The chosen bitrate for the video component of the media.</li> <li>
<code>bitsPerSecond</code>: The chosen bitrate for the audio and video components of the media. This can be specified instead of the above two properties. If this is specified along with one or the other of the above properties, this will be used for the one that isn't specified.</li> </ul> <div class="note"> <p>If bits per second values are not specified for video and/or audio, the default adopted for video is 2.5Mbps, while the audio default is adaptive, depending upon the sample rate and the number of channels.</p> </div> </dd> </dl> <h2 id="Example">Example</h2> <p>This example shows how to create a media recorder for a specified stream, whose audio bit rate is set to 128Kbit/sec and whose video bit rate is set to 2.5 Mbit/sec. The recorded media data will be stored in an MP4 wrapper (so if you gather the chunks of media data and save them to disk, they will be in an MP4 file).</p> <pre data-language="js">...


if (navigator.mediaDevices.getUserMedia) {
  var constraints = { audio: true, video: true };
  var chunks = [];

  var onSuccess = function(stream) {
    var options = {
      audioBitsPerSecond : 128000,
      videoBitsPerSecond : 2500000,
      mimeType : 'video/mp4'
    }
    var mediaRecorder = new MediaRecorder(stream,options);
    m = mediaRecorder;

...</pre> <h2 id="Specifications">Specifications</h2> <div class="_table"><table class="standard-table"> <tbody> <tr> <th scope="col">Specification</th> <th scope="col">Status</th> <th scope="col">Comment</th> </tr> <tr> <td><a href="https://w3c.github.io/mediacapture-record/" hreflang="en">MediaStream Recording</a></td> <td><span class="spec-WD">Working Draft</span></td> <td>Initial definition</td> </tr> </tbody> </table></div> <h2 id="Browser_compatibility">Browser compatibility<a href="https://github.com/mdn/browser-compat-data" class="bc-github-link">Update compatibility data on GitHub</a>
</h2>  <div class="_table">
<table class="bc-table bc-table-web">
<thead>
<tr class="bc-platforms">
<th></th>
<th colspan="6">Desktop</th>
</tr>
<tr class="bc-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Internet Explorer</th>
<th>Opera</th>
<th>Safari</th>
</tr>
</thead>
<tbody>
<tr>
<th scope="row">Basic support</th>
<td class="bc-supports-yes"> 47</td>
<td> ? </td>
<td class="bc-supports-yes"> 25</td>
<td> ? </td>
<td> ? </td>
<td> ? </td>
</tr>
<tr>
<th scope="row">
<code>options</code> object</th>
<td class="bc-supports-no"> No</td>
<td> ? </td>
<td class="bc-supports-yes"> 43</td>
<td> ? </td>
<td> ? </td>
<td> ? </td>
</tr>
</tbody>
</table>
<table class="bc-table bc-table-web">
<thead>
<tr class="bc-platforms">
<th></th>
<th colspan="7">Mobile</th>
</tr>
<tr class="bc-browsers">
<th></th>
<th>Android webview</th>
<th>Chrome for Android</th>
<th>Edge Mobile</th>
<th>Firefox for Android</th>
<th>Opera for Android</th>
<th>iOS Safari</th>
<th>Samsung Internet</th>
</tr>
</thead>
<tbody>
<tr>
<th scope="row">Basic support</th>
<td class="bc-supports-yes"> 47</td>
<td class="bc-supports-yes"> 47</td>
<td> ? </td>
<td class="bc-supports-yes"> 25</td>
<td> ? </td>
<td> ? </td>
<td class="bc-supports-yes"> 5.0</td>
</tr>
<tr>
<th scope="row">
<code>options</code> object</th>
<td> ? </td>
<td class="bc-supports-no"> No</td>
<td> ? </td>
<td> ? </td>
<td> ? </td>
<td> ? </td>
<td class="bc-supports-no"> No</td>
</tr>
</tbody>
</table>
</div> <h2 id="See_also">See also</h2> <ul> <li><a href="../mediastream_recording_api/using_the_mediastream_recording_api">Using the MediaRecorder API</a></li> <li>
<a href="http://mdn.github.io/web-dictaphone/">Web Dictaphone</a>: MediaRecorder + getUserMedia + Web Audio API visualization demo, by <a href="https://twitter.com/chrisdavidmills">Chris Mills</a> (<a href="https://github.com/mdn/web-dictaphone/">source on Github</a>.)</li> <li>
<a href="http://simpl.info/mediarecorder/">simpl.info MediaStream Recording demo</a>, by <a href="https://twitter.com/sw12">Sam Dutton</a>.</li> <li><a href="../mediadevices/getusermedia"><code>Navigator.mediaDevices.getUserMedia()</code></a></li> </ul><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/MediaRecorder/MediaRecorder$edit" class="_attribution-link">Edit this page on MDN</a>
  </p>
</div>
<div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2018 Mozilla Developer Network and individual contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/MediaRecorder/MediaRecorder" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/MediaRecorder/MediaRecorder</a>
  </p>
</div>
