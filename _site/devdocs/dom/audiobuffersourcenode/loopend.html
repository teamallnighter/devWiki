<h1>AudioBufferSourceNode.loopEnd</h1>  <p>The <code>loopEnd</code> property of the <a href="../audiobuffersourcenode"><code>AudioBufferSourceNode</code></a> interface specifies is a floating point number specifying, in seconds, at what offset into playing the <a href="../audiobuffer"><code>AudioBuffer</code></a> playback should loop back to the time indicated by the <a href="loopstart"><code>loopStart</code></a> property. This is only used if the <a href="loop"><code>loop</code></a> property is <code>true</code>.</p>  <h2 id="Syntax">Syntax</h2> <pre class="syntaxbox"><em>AudioBufferSourceNode.loopEnd = endOffsetInSeconds</em>;

var <em>endOffsetInSeconds</em> = <em>AudioBufferSourceNode.loopEnd;</em>
</pre> <h3 id="Value">Value</h3> <p>A floating-point number indicating the offset, in seconds, into the audio buffer at which each loop will loop return to the beginning of the loop (that is, the current play time gets reset to <a href="loopstart"><code>AudioBufferSourceNode.loopStart</code></a>). This property is only used if the <a href="loop"><code>loop</code></a> property is <code>true</code>.</p> <p>The default value is 0.</p> <h2 id="Example">Example</h2> <p>In this example, the <a href="https://developer.mozilla.org/en-US/docs/Web/API/AudioContext/decodeAudioData"><code>AudioContext.decodeAudioData()</code></a> function is used to decode an audio track and put it into an <a href="../audiobuffersourcenode"><code>AudioBufferSourceNode</code></a>. Buttons are provided to play and stop the audio playback, and slider controls are used to change the <code>playbackRate</code>, <code>loopStart</code> and <code>loopEnd</code> properties on the fly.</p> <p>When the audio is played to the end, it loops, but you can control how long the loops last by altering <code>loopStart</code> and <code>loopEnd</code>. For example, if you set their values to 20 and 25, respectively, then begin playback, the sound will play normally until it reaches the 25 second mark. Then the current play position will loop back to the 20 second mark and continue playing until the 25 second mark, ad infinitum (or at least until <a href="../audioscheduledsourcenode/stop"><code>stop()</code></a> is called).</p> <div class="note"> <p>For a full working example, see<a href="http://mdn.github.io/decode-audio-data/"> this code running live</a>, or <a href="https://github.com/mdn/decode-audio-data">view the source</a>.</p> </div> <pre data-language="js">function getData() {
  source = audioCtx.createBufferSource();
  request = new XMLHttpRequest();

  request.open('GET', 'viper.ogg', true);

  request.responseType = 'arraybuffer';


  request.onload = function() {
    var audioData = request.response;

    audioCtx.decodeAudioData(audioData, function(buffer) {
        myBuffer = buffer;
        songLength = buffer.duration;
        source.buffer = myBuffer;
        source.playbackRate.value = playbackControl.value;
        source.connect(audioCtx.destination);
        source.loop = true;

        loopstartControl.setAttribute('max', Math.floor(songLength));
        loopendControl.setAttribute('max', Math.floor(songLength));
      },

      function(e){"Error with decoding audio data" + e.err});

  }

  request.send();
}

  ...

loopstartControl.oninput = function() {
  source.loopStart = loopstartControl.value;
  loopstartValue.innerHTML = loopstartControl.value;
}

loopendControl.oninput = function() {
  source.loopEnd = loopendControl.value;
  loopendValue.innerHTML = loopendControl.value;
}</pre> <h2 id="Specifications">Specifications</h2> <div class="_table"><table class="standard-table"> <tbody> <tr> <th scope="col">Specification</th> <th scope="col">Status</th> <th scope="col">Comment</th> </tr> <tr> <td><a href="https://webaudio.github.io/web-audio-api/#widl-AudioBufferSourceNode-loopEnd" hreflang="en">Web Audio API<br><small>The definition of 'loopEnd' in that specification.</small></a></td> <td><span class="spec-WD">Working Draft</span></td> <td> </td> </tr> </tbody> </table></div> <h2 id="Browser_compatibility">Browser compatibility<a href="https://github.com/mdn/browser-compat-data" class="bc-github-link">Update compatibility data on GitHub</a>
</h2>   <div class="_table">
<table class="bc-table bc-table-web">
<thead>
<tr class="bc-platforms">
<th></th>
<th colspan="6">Desktop</th>
</tr>
<tr class="bc-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Internet Explorer</th>
<th>Opera</th>
<th>Safari</th>
</tr>
</thead>
<tbody><tr>
<th scope="row">Basic support</th>
<td class="bc-supports-yes"> 14</td>
<td class="bc-supports-yes"> 12</td>
<td class="bc-supports-yes"> 25</td>
<td class="bc-supports-no"> No</td>
<td class="bc-supports-yes"> 15</td>
<td class="bc-supports-yes"> 6</td>
</tr></tbody>
</table>
<table class="bc-table bc-table-web">
<thead>
<tr class="bc-platforms">
<th></th>
<th colspan="7">Mobile</th>
</tr>
<tr class="bc-browsers">
<th></th>
<th>Android webview</th>
<th>Chrome for Android</th>
<th>Edge Mobile</th>
<th>Firefox for Android</th>
<th>Opera for Android</th>
<th>iOS Safari</th>
<th>Samsung Internet</th>
</tr>
</thead>
<tbody><tr>
<th scope="row">Basic support</th>
<td class="bc-supports-yes"> Yes</td>
<td class="bc-supports-yes"> 18</td>
<td class="bc-supports-yes"> Yes</td>
<td class="bc-supports-yes"> 26</td>
<td class="bc-supports-yes"> 15</td>
<td> ? </td>
<td class="bc-supports-yes"> Yes</td>
</tr></tbody>
</table>
</div>  <h2 id="See_also">See also</h2> <ul> <li><a href="../web_audio_api">Web Audio API</a></li> <li><a href="../web_audio_api/using_web_audio_api">Using the Web Audio API</a></li> </ul><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/AudioBufferSourceNode/loopEnd$edit" class="_attribution-link">Edit this page on MDN</a>
  </p>
</div>
<div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2018 Mozilla Developer Network and individual contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/AudioBufferSourceNode/loopEnd" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/AudioBufferSourceNode/loopEnd</a>
  </p>
</div>
