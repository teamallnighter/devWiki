<h1>Event.composedPath</h1> <p>The <code>composedPath()</code> method of the <a href="../event"><code>Event</code></a> interface returns the event’s path which is an array of the objects on which listeners will be invoked. This does not include nodes in shadow trees if the shadow root was created with its <a href="../shadowroot/mode"><code>ShadowRoot.mode</code></a> closed.</p> <h2 id="Syntax">Syntax</h2> <pre class="syntaxbox">var <em>composed</em> = <em>Event</em>.composedPath();</pre> <h3 id="Parameters">Parameters</h3> <p>None.</p> <h3 id="Return_value">Return value</h3> <p>An array of <a href="../eventtarget"><code>EventTarget</code></a> objects representing the objects on which an event listener will be invoked.</p> <h2 id="Examples">Examples</h2> <p>In our composed-composed-path example (see it live), we define two trivial custom elements, <code>&lt;open-shadow&gt;</code> and <code>&lt;closed-shadow&gt;</code>, both of which take the contents of their text attribute and insert them into the element's shadow DOM as the text content of a <code>&lt;p&gt;</code> element. The only difference between the two is that their shadow roots are attached with their modes set to <code>open</code> and <code>closed</code> respectively.</p> <p>The first definition looks like this, for example:</p> <pre data-language="js">customElements.define('open-shadow',
  class extends HTMLElement {
    constructor() {
      super();

      let pElem = document.createElement('p');
      pElem.textContent = this.getAttribute('text');

      let shadowRoot = this.attachShadow({mode: 'open'})
        .appendChild(pElem);

  }
});</pre> <p>We then insert one of each element into our page:</p> <pre data-language="html">&lt;open-shadow text="I have an open shadow root"&gt;&lt;/open-shadow&gt;
&lt;closed-shadow text="I have a closed shadow root"&gt;&lt;/closed-shadow&gt;</pre> <p>Then include a click event listener on the <code>&lt;html&gt;</code> element:</p> <pre data-language="js">document.querySelector('html').addEventListener('click',function(e) {
  console.log(e.composed);
  console.log(e.composedPath());
});</pre> <p>When you click on the <code>&lt;open-shadow&gt;</code> element and then the <code>&lt;closed-shadow&gt;</code> element, you'll notice two things. First, the <code>composed</code> property returns <code>true</code> beause the <code>click</code> event is always able to propagate across shadow boundaries. Second, you'll notice a difference in the value of <code>composedPath</code> for the two elements. The <code>&lt;open-shadow&gt;</code> element's composed path is this:</p> <pre data-language="js"><span class="message-body-wrapper"><span class="message-flex-body"><span class="devtools-monospace message-body"><span class="objectBox objectBox-array"><span class="objectTitle">Array </span><span class="arrayLeftBracket">[ </span><span class="objectBox objectBox-node"><span class="tag-name">p</span></span>, <span class="objectBox objectBox-object"><span class="objectTitle">ShadowRoot</span></span>, <span class="objectBox objectBox-node"><span class="tag-name">open-shadow</span></span>, <span class="objectBox objectBox-node"><span class="tag-name">body</span></span>, <span class="objectBox objectBox-node"><span class="tag-name">html</span></span>, <span class="objectBox objectBox-document"><span class="objectTitle">HTMLDocument</span> <span class="location">https://mdn.github.io/web-components-examples/composed-composed-path/</span></span>, <span class="objectBox objectBox-Window"><span class="objectTitle">Window</span></span><span class="arrayRightBracket"> ]</span></span></span></span></span></pre> <p>Whereas the <code>&lt;closed-shadow&gt;</code> element's composed path is a follows:</p> <pre data-language="js"><span class="message-body-wrapper"><span class="message-flex-body"><span class="devtools-monospace message-body"><span class="objectBox objectBox-array"><span class="objectTitle">Array </span><span class="arrayLeftBracket">[ </span><span class="objectBox objectBox-node"><span class="tag-name">closed-shadow</span></span>, <span class="objectBox objectBox-node"><span class="tag-name">body</span></span>, <span class="objectBox objectBox-node"><span class="tag-name">html</span></span>, <span class="objectBox objectBox-document"><span class="objectTitle">HTMLDocument</span> <span class="location">https://mdn.github.io/web-components-examples/composed-composed-path/</span></span>, <span class="objectBox objectBox-Window"><span class="objectTitle">Window</span></span><span class="arrayRightBracket"> ]</span></span></span></span></span></pre> <p>In the second case, the event listeners only propagate as far as the <code>&lt;closed-shadow&gt;</code> element itself, but not to the nodes inside the shadow boundary.</p> <h2 id="Specifications">Specifications</h2> <div class="_table"><table class="standard-table"> <tbody> <tr> <th scope="col">Specification</th> <th scope="col">Status</th> <th scope="col">Comment</th> </tr> <tr> <td><a href="https://dom.spec.whatwg.org/#dom-event-composedpath" hreflang="en">DOM<br><small>The definition of 'composedPath()' in that specification.</small></a></td> <td><span class="spec-Living">Living Standard</span></td> <td> </td> </tr> </tbody> </table></div> <h2 id="Browser_compatibility">Browser compatibility<a href="https://github.com/mdn/browser-compat-data" class="bc-github-link">Update compatibility data on GitHub</a>
</h2>   <div class="_table">
<table class="bc-table bc-table-web">
<thead>
<tr class="bc-platforms">
<th></th>
<th colspan="6">Desktop</th>
</tr>
<tr class="bc-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Internet Explorer</th>
<th>Opera</th>
<th>Safari</th>
</tr>
</thead>
<tbody><tr>
<th scope="row">Basic support</th>
<td class="bc-supports-yes bc-has-history"> 53
<dl>
<dt class="bc-supports-yes bc-supports"> 53
</dt>

<dt class="bc-supports-no bc-supports">50 — 53
</dt>
<dd> Uses the non-standard name: <code>deepPath</code>
</dd>
</dl>
</td>
<td class="bc-supports-no"> No</td>
<td class="bc-supports-yes"> 52</td>
<td class="bc-supports-no"> No</td>
<td class="bc-supports-yes bc-has-history"> 40
<dl>
<dt class="bc-supports-yes bc-supports"> 40
</dt>

<dt class="bc-supports-no bc-supports">37 — 40
</dt>
<dd> Uses the non-standard name: <code>deepPath</code>
</dd>
</dl>
</td>
<td class="bc-supports-yes"> 10</td>
</tr></tbody>
</table>
<table class="bc-table bc-table-web">
<thead>
<tr class="bc-platforms">
<th></th>
<th colspan="7">Mobile</th>
</tr>
<tr class="bc-browsers">
<th></th>
<th>Android webview</th>
<th>Chrome for Android</th>
<th>Edge Mobile</th>
<th>Firefox for Android</th>
<th>Opera for Android</th>
<th>iOS Safari</th>
<th>Samsung Internet</th>
</tr>
</thead>
<tbody><tr>
<th scope="row">Basic support</th>
<td class="bc-supports-yes bc-has-history"> 53
<dl>
<dt class="bc-supports-yes bc-supports"> 53
</dt>

<dt class="bc-supports-no bc-supports">50 — 53
</dt>
<dd> Uses the non-standard name: <code>deepPath</code>
</dd>
</dl>
</td>
<td class="bc-supports-yes bc-has-history"> 53
<dl>
<dt class="bc-supports-yes bc-supports"> 53
</dt>

<dt class="bc-supports-no bc-supports">50 — 53
</dt>
<dd> Uses the non-standard name: <code>deepPath</code>
</dd>
</dl>
</td>
<td class="bc-supports-no"> No</td>
<td class="bc-supports-yes"> 52</td>
<td class="bc-supports-yes bc-has-history"> 40
<dl>
<dt class="bc-supports-yes bc-supports"> 40
</dt>

<dt class="bc-supports-no bc-supports">37 — 40
</dt>
<dd> Uses the non-standard name: <code>deepPath</code>
</dd>
</dl>
</td>
<td class="bc-supports-yes"> 10</td>
<td> ? </td>
</tr></tbody>
</table>
</div><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/Event/composedPath$edit" class="_attribution-link">Edit this page on MDN</a>
  </p>
</div>
<div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2018 Mozilla Developer Network and individual contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/Event/composedPath" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/Event/composedPath</a>
  </p>
</div>
