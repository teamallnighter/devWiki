<h1>IDBDatabase.onclose</h1>  <p>The <code>onclose</code> event handler of the <a href="../idbdatabase"><code>IDBDatabase</code></a> interface handles the <code><a href="https://developer.mozilla.org/en-US/docs/Web/Events/close">close</a></code> event, which is fired when the database is unexpectedly closed. This can happen, for example, when the application is shut down or access to the disk the database is stored on is lost while the database is open.</p> <p>The <code><a href="https://developer.mozilla.org/en-US/docs/Web/Events/close">close</a></code> event is fired after all transactions have been aborted and the connection has been closed.</p> <div class="note">
<strong>Note:</strong> This feature is available in <a href="../web_workers_api">Web Workers</a>.</div>  <h2 id="Syntax">Syntax</h2> <pre class="syntaxbox"><em>IDBDatabase</em>.onclose = <em>function</em>(error) { ... };</pre> <h3 id="Value">Value</h3> <p>A function which is called when the <code><a href="https://developer.mozilla.org/en-US/docs/Web/Events/close">close</a></code> event is fired.</p> <h2 id="Example">Example</h2> <pre data-language="js">db.onclose = function(event) {
  myAppShowAlert('The database "' + db.name + '" has unexpectedly closed.');
};</pre> <h2 id="Specifications">Specifications</h2> <div class="_table"><table class="standard-table"> <tbody> <tr> <th scope="col">Specification</th> <th scope="col">Status</th> <th scope="col">Comment</th> </tr> <tr> <td><a href="https://w3c.github.io/IndexedDB/#dom-idbdatabase-onclose" hreflang="en">Indexed Database API 2.0<br><small>The definition of 'onclose' in that specification.</small></a></td> <td><span class="spec-REC">Recommendation</span></td> <td> </td> </tr> </tbody> </table></div> <h2 name="Browser_compatibility" id="Browser_compatibility">Browser compatibility<a href="https://github.com/mdn/browser-compat-data" class="bc-github-link">Update compatibility data on GitHub</a>
</h2>   <div class="_table">
<table class="bc-table bc-table-web">
<thead>
<tr class="bc-platforms">
<th></th>
<th colspan="6">Desktop</th>
</tr>
<tr class="bc-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Internet Explorer</th>
<th>Opera</th>
<th>Safari</th>
</tr>
</thead>
<tbody><tr>
<th scope="row">Basic support</th>
<td class="bc-supports-yes bc-has-history"> 31
<dl>
<dt class="bc-supports-yes bc-supports"> 31
</dt>
<dd> approx</dd>
</dl>
</td>
<td class="bc-supports-yes"> Yes</td>
<td class="bc-supports-yes"> 50</td>
<td> ? </td>
<td class="bc-supports-yes"> Yes</td>
<td class="bc-supports-yes"> 10.1</td>
</tr></tbody>
</table>
<table class="bc-table bc-table-web">
<thead>
<tr class="bc-platforms">
<th></th>
<th colspan="7">Mobile</th>
</tr>
<tr class="bc-browsers">
<th></th>
<th>Android webview</th>
<th>Chrome for Android</th>
<th>Edge Mobile</th>
<th>Firefox for Android</th>
<th>Opera for Android</th>
<th>iOS Safari</th>
<th>Samsung Internet</th>
</tr>
</thead>
<tbody><tr>
<th scope="row">Basic support</th>
<td class="bc-supports-yes"> Yes</td>
<td class="bc-supports-yes"> Yes</td>
<td class="bc-supports-yes"> Yes</td>
<td class="bc-supports-yes"> 50</td>
<td class="bc-supports-yes"> Yes</td>
<td class="bc-supports-yes"> 10.1</td>
<td class="bc-supports-yes"> Yes</td>
</tr></tbody>
</table>
</div>  <h2 id="See_also">See also</h2> <ul> <li><a href="../indexeddb_api/using_indexeddb">Using IndexedDB</a></li> <li><a href="../idbdatabase"><code>IDBDatabase</code></a></li> <li><code><a href="https://developer.mozilla.org/en-US/docs/Web/Events/close">close</a></code></li> </ul><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/IDBDatabase/onclose$edit" class="_attribution-link">Edit this page on MDN</a>
  </p>
</div>
<div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2018 Mozilla Developer Network and individual contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/IDBDatabase/onclose" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/IDBDatabase/onclose</a>
  </p>
</div>
